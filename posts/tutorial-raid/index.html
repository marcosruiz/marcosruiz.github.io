<!DOCTYPE html><html lang="es" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Tutorial: RAID" /><meta property="og:locale" content="es" /><meta name="description" content="Introducción" /><meta property="og:description" content="Introducción" /><link rel="canonical" href="https://marcosruiz.github.io/posts/tutorial-raid/" /><meta property="og:url" content="https://marcosruiz.github.io/posts/tutorial-raid/" /><meta property="og:site_name" content="Marcos Ruiz" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-12-01T09:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Tutorial: RAID" /><meta name="twitter:site" content="@whataweekhuh" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-01-16T13:20:11+01:00","datePublished":"2022-12-01T09:00:00+01:00","description":"Introducción","headline":"Tutorial: RAID","mainEntityOfPage":{"@type":"WebPage","@id":"https://marcosruiz.github.io/posts/tutorial-raid/"},"url":"https://marcosruiz.github.io/posts/tutorial-raid/"}</script><title>Tutorial: RAID | Marcos Ruiz</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Marcos Ruiz"><meta name="application-name" content="Marcos Ruiz"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://avatars.githubusercontent.com/u/7647613?v=4 " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Marcos Ruiz</a></div><div class="site-subtitle font-italic">Trabaja duro para ser vago</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>INICIO</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORÍAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>ETIQUETAS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVOS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>SOBRE MÍ</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/marcosruiz" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['profesor.mruizg','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Inicio </a> </span> <span>Tutorial: RAID</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Artículo</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..."> </span> <span id="search-cancel" >Cancelar</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Tutorial: RAID</h1><div class="post-meta text-muted"><div> <em> <a href="https://github.com/marcosruiz">Marcos Ruiz</a> </em></div><div class="d-flex"><div> <span> <em class="timeago" data-ts="1669881600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-12-01 </em> </span> <span> Actualizado <em class="timeago" data-ts="1673871611" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-01-16 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2032 palabras"> <em>11 minutos</em> lectura</span></div></div></div><div class="post-content"><h2 id="introducción"><span class="mr-2">Introducción</span><a href="#introducción" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>En este artículo se va a explicar como montar un RAID 0, RAID 1, RAID 5.</p><p>Para montar un RAID hay que hacer 3 cosas:</p><ol><li>Conectar los discos que vayamos a usar e iniciar la máquina.<li>Resetear los RAID existentes (opcional).<li>Crear el RAID/ARRAY.<li>Asignar un sistema de ficheros (FAT, NTFS, EXT4, etc.) al RAID y montarlo.<li>Hacer persistentes los cambios haciendo que en el inicio del sistema se cree el RAID y se monte correctamente.</ol><h2 id="crear-y-añadir-discos-a-la-máquina-virtual"><span class="mr-2">Crear y añadir discos a la máquina virtual</span><a href="#crear-y-añadir-discos-a-la-máquina-virtual" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>En la máquina deseada, hacemos click en “Configuración”:</p><p><img data-src="/assets/img/tutorial-raid/discosVm01.png" alt="imgDescription" data-proofer-ignore></p><p>Vamos al apartado “Almacenamiento” y hacemos click en “Añadir disco duro”:</p><p><img data-src="/assets/img/tutorial-raid/discosVm02.png" alt="imgDescription" data-proofer-ignore></p><p>Hacemos click en “Crear imagen de disco”:</p><p><img data-src="/assets/img/tutorial-raid/discosVm03.png" alt="imgDescription" data-proofer-ignore></p><p>Seleccionamos la opción por defecto:</p><p><img data-src="/assets/img/tutorial-raid/discosVm04.png" alt="imgDescription" data-proofer-ignore></p><p>Ponemos el tamaño deseado al disco, en mi caso 100 MB:</p><p><img data-src="/assets/img/tutorial-raid/discosVm05.png" alt="imgDescription" data-proofer-ignore></p><p>Observamos que se a añadido a la lista de discos.</p><ul><li>Si queremos crear más discos le volveremos a dar a “Crear imagen de disco” y repetiremos el proceso.<li>Si queremos añadir a la máquina virtual cualquier disco lo marcamos y hacemos click en “Seleccionar”.</ul><p><img data-src="/assets/img/tutorial-raid/discosVm06.png" alt="imgDescription" data-proofer-ignore></p><p>Repetimos este último paso por cada disco que queramos conectar a la máquina virtual hasta que tengamos un resultado similar al mio:</p><p><img data-src="/assets/img/tutorial-raid/discosVm07.png" alt="imgDescription" data-proofer-ignore></p><h2 id="raid-0"><span class="mr-2">RAID 0</span><a href="#raid-0" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Instalamos los programas que vamos a usar si no los tenemos ya instalados:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>apt-get <span class="nb">install </span>mdadm
</pre></table></code></div></div><blockquote class="prompt-info"><div><p>Las siglas MDADM vienen de Multiple Disk and Device Administration.</p></div></blockquote><p>Nos aseguramos que no exista una configuración en sdb:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">-E</span> /dev/sdb
<span class="go">mdadm: No md superblock detected on /dev/sdb.
</span></pre></table></code></div></div><p>Podemos hacer lo mismo con el resto de discos.</p><p>Se obtiene información sobre todos los discos que el sistema reconoce y que están debidamente montados:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>fdisk <span class="nt">-l</span>
</pre></table></code></div></div><p>Creamos la tabla de particionamiento:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>fdisk /dev/sdb
</pre></table></code></div></div><p>Seguimos la siguiente secuencia:</p><ul><li><code class="language-plaintext highlighter-rouge">n</code> para crear una nueva partición<li><code class="language-plaintext highlighter-rouge">p</code> para indicar que la partición es primaria<li><code class="language-plaintext highlighter-rouge">1</code> para decir que es el número de la partición<li><code class="language-plaintext highlighter-rouge">enter</code> para los valores de los sectores y el tamaño de la partición a no ser que queramos especificarlo<li><code class="language-plaintext highlighter-rouge">p</code> si queremos imprimir ahora la tabla de particiones<li><code class="language-plaintext highlighter-rouge">l</code> para listar los tipos disponibles<li><code class="language-plaintext highlighter-rouge">t</code> para cambiar a tipo RAID<li><code class="language-plaintext highlighter-rouge">fd</code> para cambiar a RAID<li><code class="language-plaintext highlighter-rouge">w</code> para escribir los cambios y poder salir</ul><p>Esta misma secuencia hay que repetirla para cada disco que vaya a estar en el RAID. Otra opción es copiar la configuración directamente de un disco a otro:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span>sfdisk <span class="nt">-d</span> /dev/sdb | sfdisk /dev/sdc
</pre></table></code></div></div><p>Una vez tengamos todos los discos configurados podemos crear el RAID:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--create</span> /dev/md0 <span class="nt">--level</span><span class="o">=</span>0 <span class="nt">--raid-devices</span><span class="o">=</span>2 /dev/sdb1 /dev/sdc1
<span class="go">mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md0 started.
</span></pre></table></code></div></div><p>Observamos el estado del raid md0:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">cat</span> /proc/mdstat
</pre></table></code></div></div><p>o</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span>watch <span class="nt">-n1</span> <span class="nb">cat</span> /proc/mdstat
</pre></table></code></div></div><p>Comprobamos el estado del RAID:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">-E</span> /dev/sd[b-c]1
<span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--detail</span> /dev/md0
</pre></table></code></div></div><blockquote class="prompt-info"><div><p>El comando <code class="language-plaintext highlighter-rouge">mdadm -E /dev/sd[b-c]1</code> hace lo mismo que <code class="language-plaintext highlighter-rouge">mdadm -E /dev/sdb1 /dev/sdc1</code> pero utilizando una expresión regular.</p></div></blockquote><p>Creamos el sistema de ficheros:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mkfs.ext4 /dev/md0
</pre></table></code></div></div><p>Creamos la carpeta donde vamos a montar el RAID:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo mkdir</span> /mnt/raid0
</pre></table></code></div></div><p>Montamos el sistema de ficheros en la carpeta creada:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mount /dev/md0 /mnt/raid0/
</pre></table></code></div></div><p>Hacemos persistentes los cambios añadiendo al fichero <code class="language-plaintext filepath highlighter-rouge">/etc/fstab</code> la siguiente línea al final:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>/dev/md0 /mnt/raid0 ext4 defaults,nofail,discard 0 0
</pre></table></code></div></div><p>Guardamos la configuración del RAID en <code class="language-plaintext filepath highlighter-rouge">/etc/mdadm/mdadm.conf</code> siendo el usuario root:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span>mdadm <span class="nt">--detail</span> <span class="nt">--scan</span> <span class="nt">--verbose</span> <span class="o">&gt;&gt;</span> /etc/mdadm/mdadm.conf
</pre></table></code></div></div><blockquote class="prompt-warning"><div><p>¡Cuidado! Con el comando <code class="language-plaintext highlighter-rouge">mdadm --detail --scan --verbose &gt;&gt; /etc/mdadm/mdadm.conf</code> cargaremos toda la configuración actual en el fichero <code class="language-plaintext filepath highlighter-rouge">/etc/mdadm/mdadm.conf</code>. Si solo queremos añadir la configuración de un RAID deberemos borrar la configuración anterior o hacer <code class="language-plaintext highlighter-rouge">mdadm --detail --scan --verbose /dev/md&lt;númeroDeRaid&gt; &gt;&gt; /etc/mdadm/mdadm.conf</code>.</p></div></blockquote><p>Actualizamos para evitar que se nos actualize el nombre del RAID en siguientes inicios:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>update-initramfs <span class="nt">-u</span>
</pre></table></code></div></div><p>Apagamos para comprobar que el montado es persistente:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>reboot
</pre></table></code></div></div><blockquote class="prompt-warning"><div><p>Al reiniciar, a veces se cambia el nombre del RAID de md0 a md127. Por lo que habrá que volver a cambiar el fichero <code class="language-plaintext filepath highlighter-rouge">/etc/fstab</code> y el fichero <code class="language-plaintext filepath highlighter-rouge">/etc/mdadm/mdadm.conf</code> para que haga referencia al nuevo nombre.</p></div></blockquote><p>Para probar que estamos usando el RAID y está montado correctamente:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">df</span> <span class="nt">-h</span> <span class="nt">-x</span> devtmpfs <span class="nt">-x</span> tmpfs
</pre></table></code></div></div><p>o de un RAID en específico:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--detail</span> /dev/md0
</pre></table></code></div></div><h3 id="hacer-que-falle-un-disco-en-el-raid-0"><span class="mr-2">Hacer que falle un disco en el RAID 0</span><a href="#hacer-que-falle-un-disco-en-el-raid-0" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Para hacer que una partición falle podemos desconectarlo directamente o podemos ejecutar el siguiente comando:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md0 <span class="nt">--fail</span> /dev/sdb1
</pre></table></code></div></div><p>El disco que falle se marcará con una “(F)”.</p><blockquote class="prompt-info"><div><p>No podemos hacer que falle un disco que haga que falle el sistema RAID.</p></div></blockquote><p>Opcionalmente podemos quitarlo del todo:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md0 <span class="nt">--remove</span> /dev/sdb1
</pre></table></code></div></div><p>Para deshacer esto podemos volver a añadirlo:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md0 <span class="nt">--add</span> /dev/sdb1
</pre></table></code></div></div><blockquote class="prompt-warning"><div><p>Deberíamos hacer una copia de seguridad antes para evitar perder información.</p></div></blockquote><h3 id="hacer-crecer-el-raid-0-y-añadir-disco"><span class="mr-2">Hacer crecer el RAID 0 y añadir disco</span><a href="#hacer-crecer-el-raid-0-y-añadir-disco" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Si queremos incorporar discos al RAID solo tenemos que hacer lo siguiente:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--grow</span> /dev/md0 <span class="nt">--level</span><span class="o">=</span>0 <span class="nt">--raid-devices</span><span class="o">=</span>3 <span class="nt">--add</span> /dev/sdd
</pre></table></code></div></div><blockquote class="prompt-warning"><div><p>Deberíamos hacer una copia de seguridad antes para evitar perder información añadiendo la opción <code class="language-plaintext highlighter-rouge">--backup-file=/backupdelraid</code>.</p></div></blockquote><h2 id="raid-1"><span class="mr-2">RAID 1</span><a href="#raid-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Se crearán dos discos y se usarán para el nuevo RAID. A diferencia de la solución para un RAID 0, se usará el nivel 1 en el comando:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--create</span> /dev/md1 <span class="nt">--level</span><span class="o">=</span>1 <span class="nt">--raid-devices</span><span class="o">=</span>2 /dev/sdb1 /dev/sdc1
</pre></table></code></div></div><h3 id="hacer-crecer-el-raid-1-y-añadir-disco"><span class="mr-2">Hacer crecer el RAID 1 y añadir disco</span><a href="#hacer-crecer-el-raid-1-y-añadir-disco" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Añadimos un nuevo disco al raid1 y se deja a la espera:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md1 <span class="nt">--add</span> /dev/sdd1
</pre></table></code></div></div><p>Lo añadimos al sistema raid1:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span>mdadm <span class="nt">--grow</span> /dev/md1 <span class="nt">--raid-disk</span><span class="o">=</span>3
</pre></table></code></div></div><blockquote class="prompt-warning"><div><p>Deberíamos hacer una copia de seguridad antes para evitar perder información añadiendo la opción <code class="language-plaintext highlighter-rouge">--backup-file=/backupdelraid</code>.</p></div></blockquote><p>Comprobamos el estado del RAID 1:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--detail</span> /dev/md1
<span class="go">/dev/md1:
           Version : 1.2
     Creation Time : Mon Dec 19 12:44:21 2022
        Raid Level : raid1
        Array Size : 100352 (98.00 MiB 102.76 MB)
     Used Dev Size : 100352 (98.00 MiB 102.76 MB)
      Raid Devices : 3
     Total Devices : 3
       Persistence : Superblock is persistent

       Update Time : Mon Dec 19 12:52:23 2022
             State : clean
    Active Devices : 3
   Working Devices : 3
    Failed Devices : 0
     Spare Devices : 0

Consistency Policy : resync

              Name : mrugserver:1  (local to host mrugserver)
              UUID : 59c306f7:8c65734d:2136f333:cd0c3cf8
            Events : 41

    Number   Major   Minor   RaidDevice State
       0       8       17        0      active sync   /dev/sdb1
       1       8       33        1      active sync   /dev/sdc1
       2       8       48        2      active sync   /dev/sdd1
</span></pre></table></code></div></div><h3 id="pruebas-con-el-raid-1-de-tres-discos"><span class="mr-2">Pruebas con el RAID 1 de tres discos</span><a href="#pruebas-con-el-raid-1-de-tres-discos" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Actualmente tengo 3 discos en el RAID 1 como se puede ver en la salida del último comando del apartado anterior.</p><p>Hacemos que falle la partición <code class="language-plaintext highlighter-rouge">sdb1</code> y vemos que seguimos pudiendo acceder a mrug.txt:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md1 <span class="nt">--fail</span> /dev/sdb1
<span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md1 <span class="nt">--remove</span> /dev/sdb1
<span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--detail</span> /dev/md1
<span class="gp">$</span><span class="nb">cat</span> /mnt/raid1/mrug.txt
</pre></table></code></div></div><p>Hacemos que falle la partición <code class="language-plaintext highlighter-rouge">sdc1</code> y vemos que seguimos pudiendo acceder a mrug.txt:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md1 <span class="nt">--fail</span> /dev/sdc1
<span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md1 <span class="nt">--remove</span> /dev/sdc1
<span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--detail</span> /dev/md1
<span class="gp">$</span><span class="nb">cat</span> /mnt/raid1/mrug.txt
</pre></table></code></div></div><p>Hacemos que falle la partición <code class="language-plaintext highlighter-rouge">sdd1</code> y vemos que no nos deja:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md1 <span class="nt">--fail</span> /dev/sdd1
<span class="go">mdadm: set device faulty failed for /dev/sdd1:  Device or resource busy
</span></pre></table></code></div></div><p>Volvemos a añadir las particiones sdb1 y sdc1.</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md1 <span class="nt">--add</span> /dev/sdb1
<span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--manage</span> /dev/md1 <span class="nt">--add</span> /dev/sdc1
</pre></table></code></div></div><h2 id="raid-10"><span class="mr-2">RAID 1+0</span><a href="#raid-10" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Una vez tenemos 4 nuevos discos conectados iniciamos le sistema. Una vez hemos hecho login con nuestro usuario (del grupo sudoers), nos logeamos como root:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>su
</pre></table></code></div></div><p>$sudo mdadm –manage /dev/md1 –fail /dev/sdb1</p><h3 id="creamos-el-raid-10"><span class="mr-2">Creamos el RAID 1+0</span><a href="#creamos-el-raid-10" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Copiamos la configuración del disco sdb al resto de discos:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="gp">#</span>sfdisk <span class="nt">-d</span> /dev/sdb | sfdisk /dev/sde
<span class="gp">#</span>sfdisk <span class="nt">-d</span> /dev/sdb | sfdisk /dev/sdf
<span class="gp">#</span>sfdisk <span class="nt">-d</span> /dev/sdb | sfdisk /dev/sdg
<span class="gp">#</span>sfdisk <span class="nt">-d</span> /dev/sdb | sfdisk /dev/sdh
</pre></table></code></div></div><p>Creamos el RAID, en mi caso le he puesto el identificador md10:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span>mdadm <span class="nt">--create</span> /dev/md10 <span class="nt">--level</span><span class="o">=</span>raid10 <span class="nt">--raid-devices</span><span class="o">=</span>4 /dev/sde1 /dev/sdf1 /dev/sdg1 /dev/sdh1
</pre></table></code></div></div><p>Comprobamos el estado del RAID 1+0 y todos los discos por los que está compuesto el mismo:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">#</span><span class="nb">cat</span> /proc/mdstat
<span class="gp">#</span>mdadm <span class="nt">-E</span> /dev/sd[e-h]1
<span class="gp">#</span>mdadm <span class="nt">--detail</span> /dev/md10
</pre></table></code></div></div><h3 id="asignamos-el-sistema-de-ficheros-al-raid-10-y-montamos"><span class="mr-2">Asignamos el sistema de ficheros al RAID 1+0 y montamos</span><a href="#asignamos-el-sistema-de-ficheros-al-raid-10-y-montamos" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Creamos el sistema de ficheros</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span>mkfs.ext4 <span class="nt">-F</span> /dev/md10
</pre></table></code></div></div><p>Creamos la carpeta donde vamos a montar el RAID:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span><span class="nb">mkdir</span> <span class="nt">-p</span> /mnt/raid10
</pre></table></code></div></div><p>Montamos el RAID en la ruta creada:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span>mount /dev/md10 /mnt/raid10
</pre></table></code></div></div><p>Comprobamos el espacio disponible:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span><span class="nb">df</span> <span class="nt">-h</span> <span class="nt">-x</span> devtmpfs <span class="nt">-x</span> tmpfs
</pre></table></code></div></div><h3 id="hacemos-persistentes-los-cambios"><span class="mr-2">Hacemos persistentes los cambios</span><a href="#hacemos-persistentes-los-cambios" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Guardamos la configuración del RAID:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span>mdadm <span class="nt">--detail</span> <span class="nt">--scan</span> | <span class="nb">sudo tee</span> <span class="nt">-a</span> /etc/mdadm/mdadm.conf
</pre></table></code></div></div><blockquote class="prompt-warning"><div><p>Comprobar que en el fichero <code class="language-plaintext filepath highlighter-rouge">/etc/mdadm/mdadm.conf</code> no hay nada duplicado.</p></div></blockquote><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span>update-initramfs <span class="nt">-u</span>
</pre></table></code></div></div><p>Hacemos que se monte en el inicio del sistema:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span><span class="nb">echo</span> <span class="s1">'/dev/md10 /mnt/raid10 ext4 defaults,nofail,discard 0 0'</span> | <span class="nb">sudo tee</span> <span class="nt">-a</span> /etc/fstab
</pre></table></code></div></div><blockquote class="prompt-warning"><div><p>Comprobar que en el fichero <code class="language-plaintext filepath highlighter-rouge">/etc/fstab</code> no hay nada duplicado.</p></div></blockquote><p>Reiniciamos:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">#</span>reboot
</pre></table></code></div></div><p>Comprobamos que todo está bien:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo df</span> <span class="nt">-h</span> <span class="nt">-x</span> devtmpfs <span class="nt">-x</span> tmpfs
<span class="go">Filesystem                         Size  Used Avail Use% Mounted on
/dev/mapper/ubuntu--vg-ubuntu--lv  9,8G  4,3G  5,0G  47% /
/dev/sda2                          1,8G  247M  1,4G  15% /boot
/dev/md10                          166M   24K  153M   1% /mnt/raid10
</span></pre></table></code></div></div><h3 id="eliminar-el-raid-10"><span class="mr-2">Eliminar el RAID 1+0</span><a href="#eliminar-el-raid-10" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><blockquote class="prompt-warning"><div><p>Este proceso destruirá el RAID y cualquier dato escrito en él. Asegúrate de que estás trabajando con el RAID correcto y que has copiado todos los datos que necesites preservar.</p></div></blockquote><p>Listamos los RAIDs que tenemos mirando el contenido del fichero <code class="language-plaintext filepath highlighter-rouge">/proc/mdstat</code>:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">cat</span> /proc/mdstat
<span class="go">Personalities : [raid0] [raid10] [linear] [multipath] [raid1] [raid6] [raid5] [raid4]
md10 : active raid10 sdh1[3] sdg1[2] sdf1[1] sde1[0]
      198656 blocks super 1.2 512K chunks 2 near-copies [4/4] [UUUU]

</span><span class="gp">unused devices: &lt;none&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Desmontamos el RAID del sistema de ficheros:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>umount /dev/md10
</pre></table></code></div></div><p>Paramos y eliminamos el RAID:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--stop</span> /dev/md10
</pre></table></code></div></div><p>Eliminamos la configuración e inicio del ARRAY:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>nano /etc/mdadm/mdadm.conf
</pre></table></code></div></div><p>Averiguamos que discos son los que forman parte del RAID:</p><blockquote class="prompt-warning"><div><p>Ten en cuenta que los nombres de los discos <code class="language-plaintext filepath highlighter-rouge">/dev/sd&lt;letra&gt;</code> pueden cambiar cada vez que reinicias por lo que deberías asegurarte de que seleccionas los dispositivos correctos.</p></div></blockquote><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="gp">$</span>lsblk <span class="nt">-o</span> NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
<span class="go">NAME                       SIZE FSTYPE            TYPE   MOUNTPOINT
sde                        100M                   disk
└─sde1                      99M linux_raid_member part
  └─md10                   194M ext4              raid10 /mnt/raid10
sdf                        100M                   disk
└─sdf1                      99M linux_raid_member part
  └─md10                   194M ext4              raid10 /mnt/raid10
sdg                        100M                   disk
└─sdg1                      99M linux_raid_member part
  └─md10                   194M ext4              raid10 /mnt/raid10
sdh                        100M                   disk
└─sdh1                      99M linux_raid_member part
  └─md10                   194M ext4              raid10 /mnt/raid10
sr0                       1024M                   rom
</span></pre></table></code></div></div><p>Y quitamos la metainforamción de los discos:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--zero-superblock</span> /dev/sde1
<span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--zero-superblock</span> /dev/sdf1
<span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--zero-superblock</span> /dev/sdg1
<span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--zero-superblock</span> /dev/sdh1
</pre></table></code></div></div><p>Elimina o comenta toda referencia que haya del raid en <code class="language-plaintext filepath highlighter-rouge">/etc/fstab</code>.</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>nano /etc/fstab
</pre></table></code></div></div><p>Actualiza el <code class="language-plaintext highlighter-rouge">initramfs</code> de nuevo para que el sistema de ficheros no intente montar el RAID al inicio:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>update-initramfs <span class="nt">-u</span>
</pre></table></code></div></div><p>Reiniciamos con <code class="language-plaintext highlighter-rouge">sudo reboot</code> y comprobamos que todo está limpio:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="gp">$</span>lsblk <span class="nt">-o</span> NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
<span class="go">NAME                       SIZE FSTYPE      TYPE MOUNTPOINT
loop0                      103M squashfs    loop /snap/lxd/23541
loop1                     63,2M squashfs    loop /snap/core20/1738
loop2                     49,6M squashfs    loop /snap/snapd/17883
loop3                     79,9M squashfs    loop /snap/lxd/22923
loop4                     63,2M squashfs    loop /snap/core20/1695
sda                         20G             disk
├─sda1                       1M             part
├─sda2                     1,8G ext4        part /boot
└─sda3                    18,2G LVM2_member part
  └─ubuntu--vg-ubuntu--lv   10G ext4        lvm  /
sdb                        100M             disk
└─sdb1                      99M             part
sdc                        100M             disk
└─sdc1                      99M             part
sdd                        100M             disk
└─sdd1                      99M             part
sde                        100M             disk
└─sde1                      99M             part
sdf                        100M             disk
└─sdf1                      99M             part
sdg                        100M             disk
└─sdg1                      99M             part
sdh                        100M             disk
└─sdh1                      99M             part
sr0                       1024M             rom
</span></pre></table></code></div></div><p>Como podemos ver no queda rastro de ningún md.</p><h2 id="raid-5"><span class="mr-2">RAID 5</span><a href="#raid-5" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Se crearán tres discos y se usarán para el nuevo RAID. A diferencia de la solución para un RAID1 se usará el nivel 5 en el comando:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--create</span> /dev/md0 <span class="nt">--level</span><span class="o">=</span>5 <span class="nt">--raid-devices</span><span class="o">=</span>3 /dev/sdd1 /dev/sde1 /dev/sdf1
</pre></table></code></div></div><h2 id="comandos-para-comprobar-estado-del-raid"><span class="mr-2">Comandos para comprobar estado del RAID</span><a href="#comandos-para-comprobar-estado-del-raid" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="nb">sudo </span>mdadm <span class="nt">--detail</span> /dev/md&lt;número&gt;
<span class="gp">$</span><span class="nb">df</span> <span class="nt">-h</span> <span class="nt">-x</span> devtmpfs <span class="nt">-x</span> tmpfs
<span class="gp">$</span><span class="nb">cat</span> /proc/mdstat
<span class="gp">$</span><span class="nb">sudo </span>lsblk <span class="nt">-o</span> NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
</pre></table></code></div></div><h2 id="bibliografía"><span class="mr-2">Bibliografía</span><a href="#bibliografía" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><a href="https://www.nosolohacking.info/configurar-cualquier-raid-en-cualquier-distro-de-linux/">Configurar cualquier RAID en cualquier distro en Linux</a><li><a href="https://www.digitalocean.com/community/tutorials/how-to-create-raid-arrays-with-mdadm-on-ubuntu-22-04">How To Create RAID Arrays with mdadm on Ubuntu 22.04</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/sistemas-microinform%C3%A1ticos-y-redes/'>Sistemas Microinformáticos y Redes</a>, <a href='/categories/seguridad-inform%C3%A1tica/'>Seguridad Informática</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/seguridad-inform%C3%A1tica/" class="post-tag no-text-decoration" >seguridad informática</a> <a href="/tags/seguridad-pasiva/" class="post-tag no-text-decoration" >seguridad pasiva</a> <a href="/tags/raid/" class="post-tag no-text-decoration" >raid</a> <a href="/tags/tutorial/" class="post-tag no-text-decoration" >tutorial</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Este artículo está licenciado bajo <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> por el autor.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Tutorial: RAID - Marcos Ruiz&amp;url=https://marcosruiz.github.io/posts/tutorial-raid/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Tutorial: RAID - Marcos Ruiz&amp;u=https://marcosruiz.github.io/posts/tutorial-raid/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://marcosruiz.github.io/posts/tutorial-raid/&amp;text=Tutorial: RAID - Marcos Ruiz" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copiar link" data-title-succeed="Link copiado satisfactoriamente!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recientemente actualizado</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/tutorial-moodle-docker/">Tutorial: Instalar Moodle con Docker</a><li><a href="/posts/tutorial-nextcloud/">Tutorial: Monta tu propio Google Drive con NextCloud</a><li><a href="/posts/guias-estilo/">Guías de estilo</a><li><a href="/posts/callbacks-javascript/">Callbacks en JavaScript</a><li><a href="/posts/propagacion-eventos-javascript/">Propagación de eventos en JavaScript</a></ul></div><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/smr/">smr</a> <a class="post-tag" href="/tags/daw/">daw</a> <a class="post-tag" href="/tags/desarrollo-de-aplicaciones-web/">desarrollo de aplicaciones web</a> <a class="post-tag" href="/tags/teor%C3%ADa/">teoría</a> <a class="post-tag" href="/tags/ciclo-superior/">ciclo superior</a> <a class="post-tag" href="/tags/fp/">fp</a> <a class="post-tag" href="/tags/modulo/">modulo</a> <a class="post-tag" href="/tags/pr%C3%A1ctica/">práctica</a> <a class="post-tag" href="/tags/formaci%C3%B3n-profesional/">formación profesional</a> <a class="post-tag" href="/tags/seguridad-inform%C3%A1tica/">seguridad informática</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Índice</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Otros artículos</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/tutorial-instalacion-urbackup/"><div class="card-body"> <em class="timeago small" data-ts="1642032000" > 2022-01-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Tutorial: Instalación de UrBackup</h3><div class="text-muted small"><p> Introducción UrBackup es un sistema de copia de seguridad de cliente/servidor de código abierto y fácil de configurar que, a través de una combinación de copias de seguridad de imágenes y archivos...</p></div></div></a></div><div class="card"> <a href="/posts/practica-raid/"><div class="card-body"> <em class="timeago small" data-ts="1669881600" > 2022-12-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Práctica: RAID por software</h3><div class="text-muted small"><p> Objetivo El objetivo de esta práctica va a ser aprender a configurar y montar discos RAID en GNU Linux por terminal. Concretamente RAID0, RAID1, RAID1+0 y RAID5. Duración: 4 horas Entrega y pres...</p></div></div></a></div><div class="card"> <a href="/posts/tutorial-arranque-multiple-vhd/"><div class="card-body"> <em class="timeago small" data-ts="1693987200" > 2023-09-06 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Tutorial: Arranque múltiple con VHD</h3><div class="text-muted small"><p> ¿Qué es VHD? VHD (Virtual Hard Disk) es un formato de archivo que representa una unidad de disco duro virtual. Contiene lo mismo que lo que se puede encontrar en un disco duro físico, como partici...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/tutorial-ubuntu-server-22-04/" class="btn btn-outline-primary" prompt="Más viejo"><p>Tutorial: Instalar Ubuntu Server 22.04</p></a> <a href="/posts/practica-opcional-introduccion-packet-tracer-2/" class="btn btn-outline-primary" prompt="Más nuevo"><p>Práctica opcional: Introducción a redes con Packet Tracer 2</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "marcosruiz/marcosruiz.github.io", "data-repo-id": "R_kgDOGm1dzA", "data-category": "General", "data-category-id": "DIC_kwDOGm1dzM4CAjhb", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "es", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/marcosruiz">Marcos Ruiz</a>. <span data-toggle="tooltip" data-placement="top" title="Excepto donde si indique lo contrario, los artículos de este blog están licenciados bajo Creative Commons Attribution 4.0 International (CC BY 4.0) Licenciado por el autor.">Algunos derechos reservados.</span></p></div><div class="footer-right"><p class="mb-0"> Desarrollado por <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> con el tema <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> .</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/smr/">smr</a> <a class="post-tag" href="/tags/daw/">daw</a> <a class="post-tag" href="/tags/desarrollo-de-aplicaciones-web/">desarrollo de aplicaciones web</a> <a class="post-tag" href="/tags/teor%C3%ADa/">teoría</a> <a class="post-tag" href="/tags/ciclo-superior/">ciclo superior</a> <a class="post-tag" href="/tags/fp/">fp</a> <a class="post-tag" href="/tags/modulo/">modulo</a> <a class="post-tag" href="/tags/pr%C3%A1ctica/">práctica</a> <a class="post-tag" href="/tags/formaci%C3%B3n-profesional/">formación profesional</a> <a class="post-tag" href="/tags/seguridad-inform%C3%A1tica/">seguridad informática</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! Resultado no encontrado.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/es.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GS5HW4NZ8V"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-GS5HW4NZ8V'); }); </script>
