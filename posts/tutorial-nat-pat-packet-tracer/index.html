<!DOCTYPE html><html lang="es" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Tutorial: NAT estático, NAT dinámico y PAT en Packet Tracer" /><meta property="og:locale" content="es" /><meta name="description" content="Objetivos" /><meta property="og:description" content="Objetivos" /><link rel="canonical" href="https://marcosruiz.github.io/posts/tutorial-nat-pat-packet-tracer/" /><meta property="og:url" content="https://marcosruiz.github.io/posts/tutorial-nat-pat-packet-tracer/" /><meta property="og:site_name" content="Marcos Ruiz" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-07T20:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Tutorial: NAT estático, NAT dinámico y PAT en Packet Tracer" /><meta name="twitter:site" content="@whataweekhuh" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-14T15:40:16+02:00","datePublished":"2022-03-07T20:00:00+01:00","description":"Objetivos","headline":"Tutorial: NAT estático, NAT dinámico y PAT en Packet Tracer","mainEntityOfPage":{"@type":"WebPage","@id":"https://marcosruiz.github.io/posts/tutorial-nat-pat-packet-tracer/"},"url":"https://marcosruiz.github.io/posts/tutorial-nat-pat-packet-tracer/"}</script><title>Tutorial: NAT estático, NAT dinámico y PAT en Packet Tracer | Marcos Ruiz</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Marcos Ruiz"><meta name="application-name" content="Marcos Ruiz"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://avatars.githubusercontent.com/u/7647613?v=4 " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Marcos Ruiz</a></div><div class="site-subtitle font-italic">Trabaja duro para ser vago</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>INICIO</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORÍAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>ETIQUETAS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVOS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>SOBRE MÍ</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/marcosruiz" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['profesor.mruizg','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Inicio </a> </span> <span>Tutorial: NAT estático, NAT dinámico y PAT en Packet Tracer</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Artículo</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..."> </span> <span id="search-cancel" >Cancelar</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Tutorial: NAT estático, NAT dinámico y PAT en Packet Tracer</h1><div class="post-meta text-muted"><div> <em> <a href="https://github.com/marcosruiz">Marcos Ruiz</a> </em></div><div class="d-flex"><div> <span> <em class="timeago" data-ts="1646679600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-07 </em> </span> <span> Actualizado <em class="timeago" data-ts="1681479616" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-04-14 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2902 palabras"> <em>16 minutos</em> lectura</span></div></div></div><div class="post-content"><h2 id="objetivos"><span class="mr-2">Objetivos</span><a href="#objetivos" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>Controlar el acceso a redes privadas desde Internet.<li>Hacer uso de un proveedor de acceso a Internet (ISP) para que los equipos de una red privada accedan a la Nube (Internet).<li>Configurar en el router de Borde de un Sistema Autónomo al proceso NAT estático, NAT dinámico y NAT dinámico con sobrecarga (PAT).</ul><h2 id="parte-1-preparación-de-la-topología-base"><span class="mr-2">Parte 1: Preparación de la topología base</span><a href="#parte-1-preparación-de-la-topología-base" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 class="step" id="paso">Paso</h3><p>Implementar ahí la siguiente topología:</p><p><img data-src="/assets/img/tutorial-nat-pat-packet-tracer/tresRoutersEstáticoDinamicoSobrecargado.png" alt="img-description" data-proofer-ignore> <em>Topología base</em></p><blockquote class="prompt-tip"><div><p>En esta práctica se usan subredes VLSM explicadas en el artículo <a href="/posts/vlsm/">VLSM</a>. Este tipo de subredes pueden tener máscaras de red diferentes unas de otras.</p></div></blockquote><blockquote class="prompt-tip"><div><p>Los comandos en el CLI de los nodos de red se pueden acortar. Por ejemplo, el comando <code class="language-plaintext highlighter-rouge">configure terminal</code> es el mismo que <code class="language-plaintext highlighter-rouge">configure ter</code> y que <code class="language-plaintext highlighter-rouge">configure t</code>.</p></div></blockquote><h3 class="step" id="paso-1">Paso</h3><p>Proceda a realizar la configuración de cada router indicada a continuación.</p><p>Configuración para Empresa1:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="gp">Router#</span>configure terminal
<span class="gp">Router(config)#</span><span class="nb">hostname </span>Empresa1
<span class="gp">Empresa1(config)#</span>interface f0/0
<span class="gp">Empresa1(config-if)#</span>ip address 192.168.1.1 255.255.255.0
<span class="gp">Empresa1(config-if)#</span>no shutdown
<span class="gp">Empresa1(config-if)#</span><span class="nb">exit</span>
<span class="gp">Empresa1(config)#</span>interface s0/0
<span class="gp">Empresa1(config-if)#</span>ip address 168.243.3.130 255.255.255.252
<span class="gp">Empresa1(config-if}#</span>no shutdown
<span class="gp">Empresa1{config-if)#</span><span class="nb">exit</span>
</pre></table></code></div></div><p>Configuración para Empresa2:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="gp">Router#</span>configure terminal
<span class="gp">Router(config)#</span><span class="nb">hostname </span>Empresa2
<span class="gp">Empresa2(config)#</span>interface f0/0
<span class="gp">Empresa2(config-if)#</span>ip address 172.18.0.65 255.255.255.192
<span class="gp">Empresa2(config-if)#</span>no shutdown
<span class="gp">Empresa2(config-if)#</span><span class="nb">exit</span>
<span class="gp">Empresa2(config)#</span>interface s0/0
<span class="gp">Empresa2(config-if)#</span>ip address 168.243.3.134 255.255.255.252
<span class="gp">Empresa2(config-if)#</span>no shutdown
<span class="gp">Empresa2(config-if)#</span><span class="nb">exit</span>
<span class="gp">Empresa2#</span>copy running-config startup-config
</pre></table></code></div></div><p>Configuración para ISP:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="gp">Router#</span>configure terminal
<span class="gp">Router(config)#</span><span class="nb">hostname </span>ISP
<span class="gp">ISP(config)#</span>interface f0/0
<span class="gp">ISP(config-if)#</span>ip address 10.0.0.1 255.255.255.0
<span class="gp">ISP(config-if)#</span>no shutdown
<span class="gp">ISP(config-if)#</span><span class="nb">exit</span>
<span class="gp">ISP(config)#</span>interface s0/0
<span class="gp">ISP(config-if)#</span>ip address 168.243.3.129 255.255.255.252
<span class="gp">ISP(config-if)#</span>clock rate 9600
<span class="gp">ISP(config-if)#</span>no shutdown
<span class="gp">ISP(config if)#</span><span class="nb">exit</span>
<span class="gp">ISP(config)#</span>interface s0/1
<span class="gp">ISP(config-if)#</span>ip address 168.243.3.133 255.255.255.252
<span class="gp">ISP(config-if)#</span>clock rate 9600
<span class="gp">ISP(config-if)#</span>no shutdown
<span class="gp">ISP(config-if)#</span><span class="nb">exit</span>
<span class="gp">ISP#</span>copy running-config startup-config
</pre></table></code></div></div><h3 class="step" id="paso-2">Paso</h3><p>Configure las estaciones de trabajo y los servidores con el siguiente direccionamiento IP:</p><div class="table-wrapper"><table><thead><tr><th> <th>Dirección IP<th>Máscara de subred<th>Gateway<tbody><tr><td>PC11<td>192.168.1.2<td>255.255.255.0<td>192.168.1.1<tr><td>FTPserver<td>172.18.0.66<td>255.255.255.192<td>172.18.0.65<tr><td>WebServer<td>10.0.0.2<td>255.255.255.0<td>10.0.0.1</table></div><h3 class="step" id="paso-3">Paso</h3><p>Comprobación de direccionamiento IP</p><ul><li>Visualice la tabla de enrutamiento de los enrutadores Empresa1 y Empresa2, ejecutando el comando <code class="language-plaintext highlighter-rouge">show ip route</code>.<li>Verificar la tabla de enrutamiento del enrutador ISP. Observe que debido al carácter de redes privadas que tienen las redes de sus 2 clientes (Empresa1 y Empresa2), la red 192.168.1.0/24 y el conjunto de redes 172.18.0.0/20 no deben aparecer en la tabla de ISP.</ul><h3 class="step" id="paso-4">Paso</h3><p>Realizar las siguientes pruebas con el comando <code class="language-plaintext highlighter-rouge">ping</code> (usando el Command Prompt del Desktop de cada PC) desde las estaciones de trabajo y el web server.</p><p>Se anotan a continuación de cada prueba el resultado que debería obtenerse, compárelo con sus propios resultados:</p><div class="table-wrapper"><table><thead><tr><th>Ping desde<th>hacia<th>resultado<tbody><tr><td>PC11<td>192.168.1.1<td>prueba exitosa ✅<tr><td>FTPserver<td>172.18.0.65<td>prueba exitosa ✅<tr><td>PC11<td>10.0.0.2<td>host de destino inaccesible ❌<tr><td>FTPserver<td>10.0.0.2<td>host de destino inaccesible ❌<tr><td>WebServer<td>10.0.0.1<td>prueba exitosa ✅<tr><td>WebServer<td>168.243.3.129<td>prueba exitosa ✅<tr><td>WebServer<td>168.243.3.133<td>prueba exitosa ✅<tr><td>WebServer<td>192.168.1.2<td>host de destino inaccesible ❌<tr><td>WebServer<td>192.168.2.2<td>host de destino inaccesible ❌</table></div><p>Nuevamente se hace la aclaración. Los fallos al realizar las pruebas <code class="language-plaintext highlighter-rouge">ping</code> entre las estaciones de trabajo y el servidor, y viceversa, son un <strong>comportamiento normal</strong>, ya que el <strong>enrutador ISP desconoce la existencia de las redes locales privadas de Empresa1 y Empresa2</strong>. La comunicación entre estas redes se logrará usando NAT o PAT.</p><h2 id="parte-2-configuración-de-nat-estático-en-enrutador-empresa1"><span class="mr-2">Parte 2: Configuración de NAT estático en enrutador Empresa1</span><a href="#parte-2-configuración-de-nat-estático-en-enrutador-empresa1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 class="step" id="paso-5">Paso</h3><p>Asignación de una red IP pública para realizar el proceso de traducción. Las direcciones de carácter público (globales) para su cliente 1 (Empresa1) que configurara el proveedor en su equipo ISP serán las IP host contenidas en la red: 199.6.13.8/29.</p><p>Estas IP globales serán configuradas en los siguientes pasos.</p><h3 class="step" id="paso-6">Paso</h3><p>Proceda a crear en ISP a la siguiente ruta estática, dirigida al rango de ip público asignado para Empresa1 (ver paso anterior) y referenciando a la ip del próximo paso (La ip 168.243.3.130, configurada en la interfaz de conexión con su cliente Empresa1).</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">ISP(config)#</span><span class="w"> </span>ip route 199.6.13.8 255.255.255.248 168.243.3.130
</pre></table></code></div></div><h3 class="step" id="paso-7">Paso</h3><p>Configure una ruta estática por defecto en el enrutador Empresa1:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">Empresa1(config)#</span>ip route 0.0.0.0 0.0.0.0 serial 0/0
</pre></table></code></div></div><p>Este comando crea una entrada en la tabla de enrutamiento del enrutador Empresa1. Este comando define la puerta de enlace predeterminada de el enrutador Empresa1, es decir, TODOS los mensajes que vayan a una dirección IP destino que no conozca los enviará por la interfaz serial 0/0. Un enrutador SOLO conoce las redes a las que está directamente conectado, es decir, las que aparecen con letra C en la tabla de enrutamiento cuando ejecutamos el comando <code class="language-plaintext highlighter-rouge">show ip route</code>.</p><h3 class="step" id="paso-8">Paso</h3><p>Ejecute el siguiente código para configurar NAT estático en Empresa1, que permitirá que la dirección privada de PC11 se traduzca a la primera IP global (199.6.13.9) del rango asignado por ISP para este Cliente 1 (Empresa1). Además, se definen aquí a las interfaces de entrada y de salida para el proceso de traducción NAT:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="gp">Empresa1#</span>configure terminal
<span class="gp">Empresa1(config)#</span>ip nat inside <span class="nb">source </span>static 192.168.1.2 199.6.13.9
<span class="gp">Empresa1(config)#</span>interface f0/0
<span class="gp">Empresa1(config-if)#</span>ip nat inside
<span class="gp">Empresa1(config-if)#</span><span class="nb">exit</span>
<span class="gp">Empresa1(config)#</span>interface s0/0
<span class="gp">Empresa1(config-if)#</span>ip nat outside
<span class="gp">Empresa1(config-if)#</span><span class="nb">exit</span>
<span class="gp">Empresa1(config)#</span><span class="k">do </span>write
</pre></table></code></div></div><p>Con los comandos anteriores se logra que cada vez que un paquete de la ip local de host PC1 llegue a la interface f0/0 de Empresa1, y este necesite ser enviado a redes externas (por medio de la s0/0), se traducirá su dirección privada a la ip pública 199.6.13.9.</p><h3 class="step" id="paso-9">Paso</h3><p>Pruebas de conectividad.</p><p>Realizar las siguientes pruebas y evaluar sus resultados.</p><div class="table-wrapper"><table><thead><tr><th>Ping desde<th>hacia<th>resultado<tbody><tr><td>PC11<td>dirección del WebServer (10.0.0.2)<td>prueba exitosa ✅<tr><td>WebServer<td>ip privada de PC1 (192.168.1.2)<td>host de destino inaccesible ❌<tr><td>WebServer<td>ip publica asignada a PC1 (199.6.13.9)<td>prueba exitosa ✅</table></div><p>Tal como se ve en las pruebas anteriores, con el uso de NAT ya no es posible hacer <code class="language-plaintext highlighter-rouge">ping</code> directamente a direcciones locales (este es uno de los objetivos de la práctica), por lo que, si desea acceder a la PC11 desde Internet, deberá hacer referencia a su dirección pública asignada con NAT.</p><h3 class="step" id="paso-10">Paso</h3><p>Finalmente, desde el enrutador Empresa1, revise el estado de la traducción de direcciones IPs privadas publicas, ejecutando el comando:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">Empresa1#</span>show ip nat translations
</pre></table></code></div></div><h2 id="parte-3-configuración-de-traducciones-dinámicas-en-enrutador-empresa1"><span class="mr-2">Parte 3: Configuración de traducciones dinámicas en enrutador Empresa1</span><a href="#parte-3-configuración-de-traducciones-dinámicas-en-enrutador-empresa1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 class="step" id="paso-11">Paso</h3><p>Desconecte a PC11 de Empresa1. En su lugar, agregue un Hub a la red local del Cliente1 y conecte uno de sus puertos a la Fa0/0 de Empresa1. Conecte a PC11 a uno de los puertos libres del Hub. Agregue una nueva PC (llamada PC12) a la red del Cliente1 y configure la siguiente dirección IP: 192.168.1.3/24. Luego conectarlo al HUB, para expandir así a la red local de Empresa1.</p><h3 class="step" id="paso-12">Paso</h3><p>Desde el nuevo host, repita las pruebas de conectividad del último paso de la parte anterior de este procedimiento.</p><p>Notará que aun es imposible acceder a redes externas desde otra dirección local que no sea la IP 192.168.1.2.</p><h3 class="step" id="paso-13">Paso</h3><p>Si se mantiene este esquema de traducción estática de direcciones, se haría necesario crear una traducción para cada dirección privada de manera manual e individual.</p><p>Para solventar esta situación, activaremos una traducción basada en un grupo de direcciones públicas (pool), que serán asignadas dinámicamente por orden de llegada con respecto a las direcciones privadas.</p><h3 class="step" id="paso-14">Paso</h3><p>Elimine las traducciones desarrolladas por NAT y luego vuelva a ver los procesos de traducción de IPs:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="gp">Empresa1#</span>clear ip nat translation <span class="k">*</span>
<span class="gp">Empresa1#</span>show ip nat translations
<span class="go">Pro  Inside global     Inside local       Outside local      Outside global
---  199.6.13.9        192.168.1.2        ---                ---
</span></pre></table></code></div></div><p>El comando <code class="language-plaintext highlighter-rouge">clear ip nat translation *</code> elimina el contenido actual de la tabla de traducción NAT. Al ejecutar el comando <code class="language-plaintext highlighter-rouge">show</code> de la última línea podrá verificar que la traducción anterior aun existe, porque esta traducción ha sido definida de manera estática.</p><h3 class="step" id="paso-15">Paso</h3><p>Cree el siguiente pool<sup id="fnref:pool" role="doc-noteref"><a href="#fn:pool" class="footnote" rel="footnote">1</a></sup> (grupo1), que reservara las próximas 2 de las direcciones públicas disponibles para usarlas en un futuro proceso NAT dinámico:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">Empresa1#</span>configure terminal
<span class="gp">Empresa1(config)#</span>ip nat pool grupo1 199.6.13.10 199.6.13.11 netmask 255.255.255.248
<span class="gp">Empresa1(config)#</span><span class="k">do </span>write
</pre></table></code></div></div><h3 class="step" id="paso-16">Paso</h3><p>Crear la lista de acceso estándar 1 a continuación, que permite comparar las direcciones de origen (privadas), para decidir si luego estas serán traducidas a direcciones públicas (globales). En esta demostración, incluiremos en el derecho a ser traducidas a todas las direcciones IP de la red 192.168.1.0/24.</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="gp">Empresa1#</span>configure terminal
<span class="gp">Empresa1(config)#</span>access-list 1 permit 192.168.1.0 0.0.0.255
</pre></table></code></div></div><p>En el comando <code class="language-plaintext highlighter-rouge">access-list</code> usamos máscaras de red inversas que se obtienen cambiando los unos por ceros y viceversa.</p><h3 class="step" id="paso-17">Paso</h3><p>La lista de acceso anterior NO SE DEBE APLICAR a ninguna interface del router. Recuerde que esta ACL 1 se usa solo para efectos de comparar el origen de los paquetes y tomar la decisión sobre la traducción. No se usa la lista de acceso para afectar al tráfico entrante o saliente en las interfaces involucradas en la traducción.</p><h3 class="step" id="paso-18">Paso</h3><p>Ahora se configurará la traducción dinámica con base en el pool y la lista de acceso creada previamente.</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">Empresa1(config)#</span>ip nat inside <span class="nb">source </span>list 1 pool grupo1
</pre></table></code></div></div><p>No es necesario volver a definir el sentido de la traducción (inside/outside), ya que si recuerda eso ya se ha configurado en la traducción estática y no debe cambiarse (f0/0 inside; s0/0 outside).</p><h3 class="step" id="paso-19">Paso</h3><p>Haga una prueba con el comando <code class="language-plaintext highlighter-rouge">ping</code> desde PC12 hacia la ip 10.0.0.2. En este caso la traducción se llevará a cabo correctamente y se obtendrá una respuesta exitosa. Revise de nuevo el estado de las traducciones usando el comando:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">Empresa1#</span>show ip nat translation
</pre></table></code></div></div><h3 class="step" id="paso-20">Paso</h3><p>Veamos que sucede cuando las traducciones requeridas exceden el número de direcciones públicas que comprenden el pool. Hacer los siguientes cambios en la red local de Empresa1:</p><ul><li>Expanda la red, agregando 3 PCs más. Asignarles las direcciones IP 192.168.1.4, 192.168.1.5 y 192.168.1.6, respectivamente.<li>Desde host 192.168.1.4, haga <code class="language-plaintext highlighter-rouge">ping</code> a la ip 10.0.0.2.<li>Desde host 192.168.1.5, haga <code class="language-plaintext highlighter-rouge">ping</code> a la ip 10.0.0.2.<li>Revise las traducciones nat en Empresa1. Notará que por cada ip privada de los host anteriores, se crea un a nueva traducción para acceder a redes externas.<li>Desde el host con ip 192.168.1.6; haga <code class="language-plaintext highlighter-rouge">ping</code> a: 10.0.0.2. En este último caso podrá notar que el comando <code class="language-plaintext highlighter-rouge">ping</code> no tiene éxito. Esto se debe a que el pool de direcciones públicas (de 199.6.13.10 hasta 199.6.13.11) se ha agotado.<li>Espere unos 10 segundos, para intentar nuevamente la comunicación desde el host 192.168.1.6 hacia la ip 10.0.0.2. La prueba deberá ser exitosa, debido a que el router Empresa1 retiro la asignación de la ip publica a uno de los primeros host que accedieron a Internet y que ya no la volvieron a utilizar.</ul><h3 class="step" id="paso-21">Paso</h3><p>Limpie las traducciones nat en Empresa1 con el comando siguiente:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">Empresa1#</span>clear ip nat translation <span class="k">*</span>
</pre></table></code></div></div><h3 class="step" id="paso-22">Paso</h3><p>Ejecute nuevamente el comando <code class="language-plaintext highlighter-rouge">ping</code> desde la PC que dio resultado no exitoso en el paso anterior. Ahora si se tendrá éxito. Revise el estado de las traducciones, para confirmar que las anteriores fueron eliminadas y ahora solo queda la ip publica que se utilizo para el host de esta prueba.</p><h3 class="step" id="paso-23">Paso</h3><p>Guarde los últimos cambios de configuración en Empresa1 y reinicie su IOS (Internetwork Operating System), con el comando <code class="language-plaintext highlighter-rouge">reload</code>.</p><h2 id="parte-4-configuración-de-nat-sobrecargado-en-enrutador-empresa2"><span class="mr-2">Parte 4: Configuración de NAT Sobrecargado en enrutador Empresa2</span><a href="#parte-4-configuración-de-nat-sobrecargado-en-enrutador-empresa2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 class="step" id="paso-24">Paso</h3><p>Modificar router Empresa2 con las siguientes características y configuraciones:</p><ul><li>Conectar una nueva interface FastEthernet, configurarle la dirección 172.18.0.129/27 y levantarla. Conectar a esta interface un nuevo host, asignándole la ip 172.18.0.130/27 y su respectiva ip de gateway.<li>Crear una red de manera virtualizada con la Loopback3<sup id="fnref:loopback" role="doc-noteref"><a href="#fn:loopback" class="footnote" rel="footnote">2</a></sup>, asignándole la dirección 172.18.0.161/28.<li>Desde FTPserver, comprobar con <code class="language-plaintext highlighter-rouge">ping</code> que saluda exitosamente al nuevo host y también a la ip de Lo3.</ul><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="gp">Empresa2(config)#</span>interface loopback 3
<span class="gp">Empresa2(config-if)#</span>ip add 172.18.0.161 255.255.255.240
<span class="gp">Empresa2(config-if)#</span>no shutdown
<span class="gp">Empresa2#</span>show ip inter br
<span class="go">Interface              IP-Address      OK? Method Status                Protocol 
FastEthernet0/0        172.18.0.65     YES manual up                    up 
FastEthernet1/0        172.18.0.129    YES manual up                    up 
Serial6/0              168.243.3.134   YES manual up                    up 
Loopback3              172.18.0.161    YES manual up                    up
</span></pre></table></code></div></div><h3 class="step" id="paso-25">Paso</h3><p>Ahora analice el siguiente escenario que describirá la topología de red privada del Cliente2 a implementar en los pasos restantes.</p><ul><li>Este Cliente2, tendrá un router de borde denominado Empresa2 y usará el mismo ISP.<li>Se expandirá su red interna mostrada en la Figura del principio a un total de 3 redes diferentes:<ul><li>Red 1: 172.18.0.64/26 (de FTPserver, ya configurada)<li>Red 2: 172.18.0.128/27<li>Red 3: 172.18.0.160/28</ul><li>El server FTPserver debe ser alcanzado desde el exterior (Internet).<li>El host de la red 3, implementado en la Lo 3, virtualizará a un Server, el cual deberá ser visto desde Internet.<li>Solamente la mitad superior del rango de ip de los host de la red 2 tendrán acceso a Internet. Al resto de host se les permitirá solamente comunicación interna con el resto de redes privadas del mismo cliente.<li>Este cliente ha comprado de su ISP solamente 3 direcciones públicas (100.0.0.33/28 100.0.0.34/28 y 100.0.0.35/28).</ul><h3 class="step" id="paso-26">Paso</h3><p>Según el escenario anterior, las condiciones se vuelven muy críticas, ya que las direcciones públicas adquiridas, deben ser distribuidas entre los 2 servidores y las estaciones de trabajo de la LAN que deberán acceder a Internet por medio de router Empresa2.</p><h3 class="step" id="paso-27">Paso</h3><p>Para iniciar la solución, a continuación, se describe la configuración de NAT estático en Empresa2, que asigna la primera ip publica (100.0.0.33/28) al FTPserver, para que este pueda tener acceso hacia/desde Internet.</p><p>Y de igual manera, se asigna la segunda ip publica (100.0.0.34/28) al server virtualizado con la Lo3.</p><p>Y se definen las interfaces de entrada (direcciones privadas) de NAT y la interface de salida (direcciones públicas).</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="gp">Empresa2(config)#</span>ip nat inside <span class="nb">source </span>static 172.18.0.66 100.0.0.33
<span class="gp">Empresa2(config)#</span>ip nat inside <span class="nb">source </span>static 172.18.0.161 100.0.0.34
<span class="gp">Empresa2(config)#</span>interface fastEthernet 0/0
<span class="gp">Empresa2(config-if)#</span>ip nat inside
<span class="gp">Empresa2(config-if)#</span><span class="nb">exit</span>
<span class="gp">Empresa2(config)#</span>interface fastEthernet 1/0
<span class="gp">Empresa2(config-if)#</span>ip nat inside
<span class="gp">Empresa2(config-if)#</span><span class="nb">exit</span>
<span class="gp">Empresa2(config)#</span>interface Lo 3
<span class="gp">Empresa2(config-if)#</span>ip nat inside
<span class="gp">Empresa2(config-if)#</span><span class="nb">exit</span>
<span class="gp">Empresa2(config)#</span>interface serial 0/1
<span class="gp">Empresa2(config-if)#</span>ip nat outside
<span class="gp">Empresa2(config-if)#</span><span class="k">do </span>write
<span class="gp">Empresa2(config-if)#</span><span class="nb">exit</span>
</pre></table></code></div></div><p>Observe como la Lo 3 se convierte en una interface de entrada de NAT.</p><h3 class="step" id="paso-28">Paso</h3><p>Configure una ruta por defecto en Empresa2, que utilice la interface de salida Serial 0/1 con la que se conecta al ISP. Es decir, debes configurar la tabla de enrutamiento del enrutador Empresa2 como ya se hizo con el enrutador de Empresa1.</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">Empresa2(config)#</span>ip route 0.0.0.0 0.0.0.0 serial 0/1
</pre></table></code></div></div><h3 class="step" id="paso-29">Paso</h3><p>En ISP, configure la manera de cómo este dispositivo deberá alcanzar la red privada de su cliente 2, referenciando con rutas estáticas a solamente las 3 ip publicas que este proveedor le vendió.</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">ISP(config)#</span>ip route 100.0.0.32 255.255.255.252 168.243.3.134
</pre></table></code></div></div><p>El rango de direcciones 100.0.0.32/30 (máscara de 255.255.255.252) abarca desde la dirección IP 100.0.0.32 a la dirección 100.0.0.35. Esta es una manera de indicar rangos de direcciones IP</p><h3 class="step" id="paso-30">Paso</h3><p>Haga pruebas de <code class="language-plaintext highlighter-rouge">ping</code> desde WebServer dirigidos a la ip pública (100.0.0.33) asignada al FTPserver. La prueba debe ser exitosa.</p><p>De igual forma, desde host PC11, ejecute el comando <code class="language-plaintext highlighter-rouge">ping</code> dirigido a la ip pública (100.0.0.34) asignada para la Lo3. La prueba también debe ser satisfactoria.</p><h3 class="step" id="paso-31">Paso</h3><p>Hasta este momento, ya solo queda disponible una ip publica (100.0.0.35) adquirida al proveedor ISP, y con ella debe darse acceso a Internet a solamente a la mitad superior de las direcciones IP de la Red2 (172.18.0.128/27).</p><p>Este rango de ip que tendrán Internet incluye desde la ip 172.18.0.144 hasta la 172.18.0.158. Veamos cómo es posible solventar este problema usando PAT.</p><h3 class="step" id="paso-32">Paso</h3><p>Ejecute la siguiente configuración de PAT (NAT Overloaded) en Empresa2. Analice los comentarios previos en cada bloque.</p><p>Configura una pila, formada por una “única dirección” 100.0.0.35 como inicio y final del rango de ip publicas aun disponibles para NAT.</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">Empresa2(config)#</span>ip nat pool cliente2 100.0.0.35 100.0.0.35 netmask 255.255.255.240
</pre></table></code></div></div><p>Crea la ACL 2 para determinar las redes que tendrán acceso al proceso NAT y alcanzar así Internet. En este caso, solo se aceptarán IPs de la mitad superior del rango de IPs de la Red 2.</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="gp">Empresa2(config)#</span>access-list 2 permit 172.18.0.144 0.0.0.15
<span class="gp">Empresa2(config)#</span>access-list 2 deny any
</pre></table></code></div></div><details class="card mb-2"> <summary class="card-header question">¿Cómo se entiende esto? </summary><div class="card-body"><p>La máscara inversa de 255.255.255.240 (/28) es 0.0.0.15. Te recuerdo que estábamos usando la subred 172.18.0.128/27 (255.255.255.224).</p><p>Por asi decirlo, estamos “creando” dos subredes sobre la subred original y diciéndole al router que la segunda subred (subred 172.18.0.144/28) la permita y el resto (subred 172.18.0.128/28) no.</p></div></details><p>Crea a NAT de manera sobrecargada (overload), utilizando la pila de direcciones públicas cliente2 y como filtro a la ACL 2.</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">Empresa2(config)#</span>ip nat inside <span class="nb">source </span>list 2 pool cliente2 overload
</pre></table></code></div></div><h3 class="step" id="paso-33">Paso</h3><p>Desde el PC de la Red 2 ejecute un <code class="language-plaintext highlighter-rouge">ping</code> hacia la ip 10.0.0.2; resultado: falla, porque su ip actual (172.18.0.130/27) no tiene acceso a Internet.</p><p>Cambiar su ip asignada a 172.18.0.153/27 y repetir la prueba de comunicación. Esta vez si se le permitirá acceder a Internet.</p><h3 class="step" id="paso-34">Paso</h3><p>Notará que al usar la sobrecarga en la traducción de direcciones de forma dinámica, ya no hay mayores problemas si nuestro pool de direcciones públicas es más pequeño que el número real de direcciones privadas a traducir.</p><p>Añade un PC más a la red 2 y haz dos <code class="language-plaintext highlighter-rouge">ping</code> al mismo tiempo con ambos PCs. Debería funcionar.</p><p>Es importante resaltar que aunque <strong>la red 10.0.0.0/24 forma parte del rango de direcciones privadas en esta práctica funciona como una red pública</strong> ya que el enrutador ISP no tiene la funcionalidad de NAT configurada.</p><p>A continuación se muestra la topología final a la que se debe llegar.</p><p><img data-src="/assets/img/tutorial-nat-pat-packet-tracer/resultadoFinalParte4Detallada.png" alt="img-description" data-proofer-ignore> <em>Topología final</em></p><h2 id="bibliografía"><span class="mr-2">Bibliografía</span><a href="#bibliografía" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwjIkJPNwbb3AhW_7rsIHVsCCroQFnoECCMQAQ&amp;url=http%3A%2F%2Fwww.udb.edu.sv%2Fudb_files%2Frecursos_guias%2Finformatica-tecnologico%2Fredes-de-comunicacion%2F2020%2Fi%2Fguia-9.pdf&amp;usg=AOvVaw1jfw3cpfTQS2W2VUaod2VR">GUIA DE LABORATORIO #9</a></ul><div class="footnotes" role="doc-endnotes"><ol><li id="fn:pool" role="doc-endnote"><p>Asociación de personas o entidades con un fin común. <a href="#fnref:pool" class="reversefootnote" role="doc-backlink">&#8617;</a></p><li id="fn:loopback" role="doc-endnote"><p>Un loopback es una interfaz lógica que permite asignar direcciones IP a un router que no están ligadas a una interfaz física. De esa forma sabes que siempre podrás administrar el router en esa IP, aunque se caiga la interfaz física desde la que te conectabas habitualmente al router (y siempre que tengas conectada otra interfaz física, claro). <a href="#fnref:loopback" class="reversefootnote" role="doc-backlink">&#8617;</a></p></ol></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/sistemas-microinform%C3%A1ticos-y-redes/'>Sistemas Microinformáticos y Redes</a>, <a href='/categories/redes-locales/'>Redes Locales</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/smr/" class="post-tag no-text-decoration" >smr</a> <a href="/tags/tutorial/" class="post-tag no-text-decoration" >tutorial</a> <a href="/tags/nat/" class="post-tag no-text-decoration" >nat</a> <a href="/tags/pat/" class="post-tag no-text-decoration" >pat</a> <a href="/tags/packet-tracer/" class="post-tag no-text-decoration" >packet tracer</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Este artículo está licenciado bajo <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> por el autor.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Tutorial: NAT estático, NAT dinámico y PAT en Packet Tracer - Marcos Ruiz&amp;url=https://marcosruiz.github.io/posts/tutorial-nat-pat-packet-tracer/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Tutorial: NAT estático, NAT dinámico y PAT en Packet Tracer - Marcos Ruiz&amp;u=https://marcosruiz.github.io/posts/tutorial-nat-pat-packet-tracer/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://marcosruiz.github.io/posts/tutorial-nat-pat-packet-tracer/&amp;text=Tutorial: NAT estático, NAT dinámico y PAT en Packet Tracer - Marcos Ruiz" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copiar link" data-title-succeed="Link copiado satisfactoriamente!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recientemente actualizado</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/tutorial-moodle-docker/">Tutorial: Instalar Moodle con Docker</a><li><a href="/posts/tutorial-nextcloud/">Tutorial: Monta tu propio Google Drive con NextCloud</a><li><a href="/posts/guias-estilo/">Guías de estilo</a><li><a href="/posts/callbacks-javascript/">Callbacks en JavaScript</a><li><a href="/posts/propagacion-eventos-javascript/">Propagación de eventos en JavaScript</a></ul></div><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/smr/">smr</a> <a class="post-tag" href="/tags/daw/">daw</a> <a class="post-tag" href="/tags/desarrollo-de-aplicaciones-web/">desarrollo de aplicaciones web</a> <a class="post-tag" href="/tags/teor%C3%ADa/">teoría</a> <a class="post-tag" href="/tags/ciclo-superior/">ciclo superior</a> <a class="post-tag" href="/tags/fp/">fp</a> <a class="post-tag" href="/tags/modulo/">modulo</a> <a class="post-tag" href="/tags/pr%C3%A1ctica/">práctica</a> <a class="post-tag" href="/tags/formaci%C3%B3n-profesional/">formación profesional</a> <a class="post-tag" href="/tags/seguridad-inform%C3%A1tica/">seguridad informática</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Índice</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Otros artículos</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/tutorial-nat-pat-packet-tracer-parte-2/"><div class="card-body"> <em class="timeago small" data-ts="1646690400" > 2022-03-07 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>NAT estático, NAT dinámico y PAT en Packet Tracer (Parte 2)</h3><div class="text-muted small"><p> Objetivos Controlar el acceso a redes privadas desde Internet. Hacer uso de un proveedor de acceso a Internet (ISP) para que los equipos de una red privada accedan a la Nube (Internet). Con...</p></div></div></a></div><div class="card"> <a href="/posts/tutorial-nat-estatico-packet-tracer/"><div class="card-body"> <em class="timeago small" data-ts="1645002000" > 2022-02-16 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Tutorial: Configurar un NAT estático en Packet Tracer</h3><div class="text-muted small"><p> Introducción y objetivo Nuestro objetivo es crear una NAT estática con los elementos que ya conocíamos; PCs, switches y routers. Usaremos el sistema operativo de estos elementos que podemos ver en...</p></div></div></a></div><div class="card"> <a href="/posts/tutorial-introduccion-a-packet-tracer/"><div class="card-body"> <em class="timeago small" data-ts="1642629600" > 2022-01-19 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Tutorial: Introducción a Packet Tracer</h3><div class="text-muted small"><p> ¿Qué es Packet Tracer? Una de las herramientas más utilizadas en el mundo orientadas a la simulación de redes de datos es Packet Tracer, el cual consiste en un simulador gráfico de redes desarroll...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/practica-nat-packet-tracer/" class="btn btn-outline-primary" prompt="Más viejo"><p>Práctica: NAT con Packet Tracer</p></a> <a href="/posts/tutorial-nat-pat-packet-tracer-parte-2/" class="btn btn-outline-primary" prompt="Más nuevo"><p>NAT estático, NAT dinámico y PAT en Packet Tracer (Parte 2)</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "marcosruiz/marcosruiz.github.io", "data-repo-id": "R_kgDOGm1dzA", "data-category": "General", "data-category-id": "DIC_kwDOGm1dzM4CAjhb", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "es", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/marcosruiz">Marcos Ruiz</a>. <span data-toggle="tooltip" data-placement="top" title="Excepto donde si indique lo contrario, los artículos de este blog están licenciados bajo Creative Commons Attribution 4.0 International (CC BY 4.0) Licenciado por el autor.">Algunos derechos reservados.</span></p></div><div class="footer-right"><p class="mb-0"> Desarrollado por <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> con el tema <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> .</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/smr/">smr</a> <a class="post-tag" href="/tags/daw/">daw</a> <a class="post-tag" href="/tags/desarrollo-de-aplicaciones-web/">desarrollo de aplicaciones web</a> <a class="post-tag" href="/tags/teor%C3%ADa/">teoría</a> <a class="post-tag" href="/tags/ciclo-superior/">ciclo superior</a> <a class="post-tag" href="/tags/fp/">fp</a> <a class="post-tag" href="/tags/modulo/">modulo</a> <a class="post-tag" href="/tags/pr%C3%A1ctica/">práctica</a> <a class="post-tag" href="/tags/formaci%C3%B3n-profesional/">formación profesional</a> <a class="post-tag" href="/tags/seguridad-inform%C3%A1tica/">seguridad informática</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! Resultado no encontrado.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/es.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GS5HW4NZ8V"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-GS5HW4NZ8V'); }); </script>
