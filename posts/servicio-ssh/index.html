<!DOCTYPE html><html lang="es" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Servicio SSH" /><meta property="og:locale" content="es" /><meta name="description" content="Pila TCP/IP:" /><meta property="og:description" content="Pila TCP/IP:" /><link rel="canonical" href="https://marcosruiz.github.io/posts/servicio-ssh/" /><meta property="og:url" content="https://marcosruiz.github.io/posts/servicio-ssh/" /><meta property="og:site_name" content="Marcos Ruiz" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-01-25T10:30:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Servicio SSH" /><meta name="twitter:site" content="@whataweekhuh" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-09T01:42:17+01:00","datePublished":"2022-01-25T10:30:00+01:00","description":"Pila TCP/IP:","headline":"Servicio SSH","mainEntityOfPage":{"@type":"WebPage","@id":"https://marcosruiz.github.io/posts/servicio-ssh/"},"url":"https://marcosruiz.github.io/posts/servicio-ssh/"}</script><title>Servicio SSH | Marcos Ruiz</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Marcos Ruiz"><meta name="application-name" content="Marcos Ruiz"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://avatars.githubusercontent.com/u/7647613?v=4 " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Marcos Ruiz</a></div><div class="site-subtitle font-italic">Trabaja duro para ser vago</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>INICIO</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORÍAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>ETIQUETAS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVOS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>SOBRE MÍ</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/marcosruiz" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['profesor.mruizg','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Inicio </a> </span> <span>Servicio SSH</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Artículo</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..."> </span> <span id="search-cancel" >Cancelar</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Servicio SSH</h1><div class="post-meta text-muted"><div> <em> <a href="https://github.com/marcosruiz">Marcos Ruiz</a> </em></div><div class="d-flex"><div> <span> <em class="timeago" data-ts="1643103000" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-01-25 </em> </span> <span> Actualizado <em class="timeago" data-ts="1646786537" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-09 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1392 palabras"> <em>7 minutos</em> lectura</span></div></div></div><div class="post-content"><p>Pila TCP/IP:</p><div class="table-wrapper"><table><tbody><tr><td>Aplicación<td>SSH<tr><td>Transporte<td>TCP<tr><td>Red<td>IP (IPv4 y IPv6)</table></div><p>El <strong>puerto</strong> TCP asignado es el <strong>22</strong>.</p><p>Tipo de servicio: Administración.</p><h2 id="qué-es-ssh"><span class="mr-2">¿Qué es SSH?</span><a href="#qué-es-ssh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>SSH (o Secure SHell) es el nombre de un protocolo y del programa que lo implementa cuya principal función es el <strong>acceso remoto a un servidor</strong> por medio de un canal seguro en el que toda la información está cifrada.</p><p>Proporciona:</p><ul><li>Un mecanismo para autenticar un usuario remoto<li>Transferir entradas desde el cliente al host<li>Retransmitir la salida de vuelta al cliente</ul><p>El servicio se creó como un reemplazo seguro para el Telnet sin cifrar y utiliza técnicas criptográficas para garantizar que todas las comunicaciones hacia y desde el servidor remoto sucedan de manera encriptada.</p><p>La imagen de abajo muestra una ventana típica de SSH. Cualquier usuario de Linux o macOS puede usar SSH en su servidor remoto directamente desde la ventana del terminal. Los usuarios de Windows pueden aprovechar los clientes SSH como Putty. <strong>Puedes ejecutar comandos shell de la misma manera que lo harías si estuvieras operando físicamente el equipo remoto</strong>.</p><p><img data-src="/assets/img/servicio-ssh/ejemplo-ssh.jpg" alt="img-description" data-proofer-ignore> <em>Ejemplo de conexión mediante SSH</em></p><h2 id="comprendiendo-las-diferentes-técnicas-de-cifrado"><span class="mr-2">Comprendiendo las diferentes técnicas de cifrado</span><a href="#comprendiendo-las-diferentes-técnicas-de-cifrado" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>La ventaja significativa ofrecida por el protocolo SSH sobre sus predecesores es el uso del cifrado para asegurar la transferencia segura de información entre el host y el cliente. Host se refiere al servidor remoto al que estás intentando acceder, mientras que el cliente es el equipo que estás utilizando para acceder al host. Hay tres tecnologías de cifrado diferentes utilizadas por SSH:</p><ol><li>Cifrado simétrico<li>Cifrado asimétrico<li>Hashing</ol><p>Si estás cursando la asignatura de Seguridad Informática también debes leer el artículo <a href="https://www.hostinger.es/tutoriales/que-es-ssh">¿Cómo funciona el SSH?</a>.</p><h2 id="instalación-y-configuración-de-un-servidor-ssh"><span class="mr-2">Instalación y configuración de un servidor SSH</span><a href="#instalación-y-configuración-de-un-servidor-ssh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Para instalar el servidor SSH ejecutamos la siguiente acción:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install </span>openssh-server
</pre></table></code></div></div><p>o la siguiente:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install </span>ssh
</pre></table></code></div></div><p>Ya que si ejecutamos el comando <code class="language-plaintext highlighter-rouge">aptitude search ssh</code> obtenemos la siguiente información de lo que contiene cada paquete:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>aptitude search ssh
<span class="go">i A openssh-client                                                                                                 - Cliente del protocolo "Secure Shell" (SSH) para acceso seguro a máquinas remotas                                        
p   openssh-server                                                                                                 - servidor de terminal seguro (SSH) para acceder de forma segura desde máquinas remotas                                   

p   ssh                                                                                                            - Cliente y servidor de «secure shell» (metapaquete)                                                                      
</span></pre></table></code></div></div><h3 id="iniciar-reiniciar-y-parar-el-servicio"><span class="mr-2">Iniciar, reiniciar y parar el servicio</span><a href="#iniciar-reiniciar-y-parar-el-servicio" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>Para iniciar el servicio SSH podemos usar el comando <code class="language-plaintext highlighter-rouge">service ssh start</code>.<li>Para reiniciar el servicio SSH podemos usar el comando <code class="language-plaintext highlighter-rouge">service ssh restart</code>.<li>Para parar el servicio SSH podemos usar el comando <code class="language-plaintext highlighter-rouge">service ssh stop</code>.</ul><p>Cada vez que hagamos un cambio en un fichero de configuración deberemos reiniciar el servicio. Otra manera de iniciar, reiniciar y parar el servicio es con los siguientes comandos:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span><span class="nb">sudo</span> /etc/init.d/ssh start
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo</span> /etc/init.d/ssh restart
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo</span> /etc/init.d/ssh stop
</pre></table></code></div></div><h3 id="fichero-etcsshsshd_config"><span class="mr-2">Fichero /etc/ssh/sshd_config</span><a href="#fichero-etcsshsshd_config" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>El fichero /etc/ssh/sshd_config es el fichero principal de configuración del servicio SSH. Para ver una información más completa de este archivo podemos usar el comando <code class="language-plaintext highlighter-rouge">man sshd_config</code>.</p><p>Los parámetros más interesantes son:</p><ol><li><strong>AllowGroups</strong>: Esta opción puede ir seguida de una lista de grupos de nombres, separados por espacios. Si se especifica, sólo se permite realizar un login a los usuarios cuyo grupo principal o suplementarios coincida con uno de los patrones establecidos. Se puede usar ‘*’ y ‘?’ como comodines en los patrones.<li><strong>AllowUsers</strong>: Esta opción puede ir seguida de una lista de usuarios, separados por espacios. Si se especifica, sólo se permite realizar login a los usuarios cuyo nombre concuerde con el patrón. Se pueden usar y ‘?’ para la construcción de patrones.<li><strong>Banner</strong>: Esta opción indica la ruta de un fichero donde está escrito un mensaje de bienvenida.<li><strong>DenyGroups</strong>, <strong>DenyUsers</strong>: Similares a los anteriores pero denegando el servicio.<li><strong>KerberosAuthentication</strong>: Especifica si el método de autentificación Kerberos está permitido. Esto puede llevarse a cabo mediante un ticket Kerberos o si la opción <code class="language-plaintext highlighter-rouge">PasswordAuthentication</code> está habilitada. En ese caso, la contraseña suministrada por el usuario puede ser validada contra un KDC Kerberos.<li><strong>ListenAddress</strong><li><strong>LoginGraceTime</strong>: El servidor desconecta después de este tiempo a los usuarios que no se hayan validado correctamente. Si el valor es 0, no hay límite de tiempo. Por defecto, 120 (segundos).<li><strong>PasswordAuthentication</strong>: Especifica si la autentificación por password está admitida. Por defecto, “yes”.<li><strong>PermitRootLogin</strong>: Especifica si el superusuario puede validar usando ssh. Los argumentos posibles son: “yes”, “without-password”, “forced-commands-only” o “no”. El valor por defecto es “yes”. Si a esta opción se le asigna “without-password”, la autentificación por password se deshabilita para el usuario root. Si a esta opción se le asigna “forced-commands-only”, el login del superusuario con autentificación de clave pública será admitido, pero sólo si la opción del comando se ha especificado (lo que puede ser útil para realizar backups remotos incluso si el login de superusuario no está admitido normalmente). El resto de métodos de autentificación están vetados para el root. Si a la opción se le asigna “no”, el root no puede hacer login.<li><strong>Port</strong>: Especifica el número de puerto al que escucha sshd. El puerto predeterminado es el 22/tcp. Este parámetro admite opciones múltiples.<li><strong>Protocol</strong>: Especifica las versiones del protocolo que soporta sshd. Las posibilidades son “1” y “2”. Las opciones múltiples se separan por comas. El valor por defecto es “2”.<li><strong>PubkeyAuthentication</strong>: Especifica si se admite la autentificación mediante clave pública. Por defecto, “yes”. Esta opción sólo se aplica a la versión 2 del protocolo.<li><strong>StrictModes</strong>: Especifica si sshd debe comprobar los permisos y propietarios de los ficheros del usuario y el directorio home antes de aceptar el login. Es recomendable habilitar esta opción pues los usuarios noveles a veces dejan accidentalmente su directorio o sus ficheros con permisos de escritura universales. El valor por defecto, “yes”.<li><strong>X11Forwarding</strong>: Establece si se permite o no la ejecución remota de aplicaciones gráficas. Si se va a acceder hacia el servidor desde red local, este parámetro puede quedarse con el valor yes. Si se va a permitir el acceso hacia el servidor desde redes públicas, resultará prudente utilizar este parámetro con el valor no.</ol><h2 id="uso-del-cliente-ssh"><span class="mr-2">Uso del cliente SSH</span><a href="#uso-del-cliente-ssh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Si usas GNU Linux o Mac, entonces usar el protocolo SSH es muy fácil. Si utilizas Windows, deberás utilizar un cliente SSH para abrir conexiones SSH. El cliente SSH más popular es PuTTY.</p><p>Para usuarios de Mac y GNU Linux, dirígete a tu programa de terminal y sigue este procedimiento:</p><p>El comando SSH consta de 3 partes distintas: <code class="language-plaintext highlighter-rouge">ssh &lt;usuario&gt;@&lt;host&gt;</code>. <code class="language-plaintext highlighter-rouge">&lt;usuario&gt;</code> representa la cuenta a la que deseas acceder. Por ejemplo, puede que quieras acceder al usuario root, que es básicamente para el administrador del sistema con derechos completos para modificar cualquier cosa en el sistema. <code class="language-plaintext highlighter-rouge">&lt;host&gt;</code> hace referencia al equipo al que quieres acceder. Esto puede ser una dirección IP (por ejemplo, 244.235.23.19) o un nombre de dominio (por ejemplo, www.xyzdomain.com).</p><p>Al pulsar enter, se te pedirá que escribas la contraseña de la cuenta solicitada. Al escribirla, nada aparecerá en la pantalla, pero tu contraseña, de hecho, se está transmitiendo. Una vez que hayas terminado de escribir, pulsa enter una vez más. Si tu contraseña es correcta, verás una ventana de terminal remota.</p><h2 id="transferir-ficheros-con-ssh"><span class="mr-2">Transferir ficheros con SSH</span><a href="#transferir-ficheros-con-ssh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Podemos copiar un fichero a un ordenador remoto de forma segura utilizando la herramienta <code class="language-plaintext highlighter-rouge">scp</code> de la siguiente manera:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>scp &lt;rutaArchivoLocal&gt; &lt;usuario&gt;@&lt;host&gt;:&lt;rutaArchivoRemoto&gt;
</pre></table></code></div></div><p>O podemos copiar del ordenador remoto a nuestro equipo local:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>scp &lt;usuario&gt;@&lt;host&gt;:&lt;rutaArchivoRemoto&gt; &lt;rutaArchivoLocal&gt;
</pre></table></code></div></div><p>Por ejemplo:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>scp /home/mruizg/Documentos/prueba.txt smr@192.168.1.2:/home/smr/Documentos/prueba.txt
</pre></table></code></div></div><p class="question">¿Qué diferencias hay entre SCP y SFTP?</p><h2 id="terminal-en-modo-gráfico"><span class="mr-2">Terminal en modo gráfico</span><a href="#terminal-en-modo-gráfico" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Para poder ejecutar aplicaciones gráficas en el host remoto de forma segura, necesitamos hacer tres cosas:</p><ol><li>Poner la opción <code class="language-plaintext highlighter-rouge">X11Forwarding</code> a <code class="language-plaintext highlighter-rouge">yes</code> en el fichero /etc/ssh/sshd_config<li>Conectarnos utilizando la opción <code class="language-plaintext highlighter-rouge">-X</code> de la siguiente manera <code class="language-plaintext highlighter-rouge">ssh -X &lt;usuario&gt;@&lt;host&gt;</code>.<li>Una vez conectados, ejecutar <code class="language-plaintext highlighter-rouge">xterm</code> o la aplicación gráfica que deseemos como podría ser <code class="language-plaintext highlighter-rouge">gedit</code>.<li>¿Qué servicio es mejor para transferir ficheros SFTP o SSH?</ol><h2 id="autenticación-basada-en-clave-pública"><span class="mr-2">Autenticación basada en clave pública</span><a href="#autenticación-basada-en-clave-pública" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Para autenticarnos utilizando una clave pública debemos activar la opción de configuración <code class="language-plaintext highlighter-rouge">PubkeyAuthentication</code> para posteriormente generar el par de claves. Recuerdo que la clave privada NUNCA se debe compartir.</p><p>En <a href="http://www.ubuntufacil.com/2014/01/generar-y-anadir-claves-ssh-para-acceso-sin-contrasenia/">Generar y añadir claves SSH (para acceso sin contraseña)</a> está explicado como generar este par de claves para utilizarlas en el servicio SSH.</p><h2 id="bibliografía"><span class="mr-2">Bibliografía</span><a href="#bibliografía" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><a href="https://www.hostinger.es/tutoriales/que-es-ssh">¿Cómo funciona el SSH?</a><li><a href="https://es.wikipedia.org/wiki/Secure_Shell">Secure Shell (Wikipedia)</a><li><a href="https://es.wikipedia.org/wiki/Ataque_de_REPLAY">Ataque de REPLAY (Wikipedia)</a><li><a href="https://github.com/josedom24/serviciosgm_doc/blob/master/linux/acceso/doc/ssh.pdf">Utilización elemental de ssh</a><li><a href="http://www.ubuntufacil.com/2014/01/generar-y-anadir-claves-ssh-para-acceso-sin-contrasenia/">Generar y añadir claves SSH (para acceso sin contraseña)</a><li><a href="https://es.wikipedia.org/wiki/SSH_File_Transfer_Protocol">SSH File Transfer Protocol (Wikipedia)</a><li><a href="https://tecnotec.es/scp-vs-sftp-cual-deberia-usar-para-transferir-archivos/">SCP vs SFTP: ¿Cuál debería usar para transferir archivos?</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/sistemas-microinform%C3%A1ticos-y-redes/'>Sistemas Microinformáticos y Redes</a>, <a href='/categories/servicios-en-red/'>Servicios en Red</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/gnu-linux/" class="post-tag no-text-decoration" >gnu linux</a> <a href="/tags/comandos/" class="post-tag no-text-decoration" >comandos</a> <a href="/tags/terminal/" class="post-tag no-text-decoration" >terminal</a> <a href="/tags/bash/" class="post-tag no-text-decoration" >bash</a> <a href="/tags/servicios-en-red/" class="post-tag no-text-decoration" >servicios en red</a> <a href="/tags/ssh/" class="post-tag no-text-decoration" >ssh</a> <a href="/tags/seguridad-inform%C3%A1tica/" class="post-tag no-text-decoration" >seguridad informática</a> <a href="/tags/smr/" class="post-tag no-text-decoration" >smr</a> <a href="/tags/teor%C3%ADa/" class="post-tag no-text-decoration" >teoría</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Este artículo está licenciado bajo <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> por el autor.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Servicio SSH - Marcos Ruiz&amp;url=https://marcosruiz.github.io/posts/servicio-ssh/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Servicio SSH - Marcos Ruiz&amp;u=https://marcosruiz.github.io/posts/servicio-ssh/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://marcosruiz.github.io/posts/servicio-ssh/&amp;text=Servicio SSH - Marcos Ruiz" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copiar link" data-title-succeed="Link copiado satisfactoriamente!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recientemente actualizado</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/tutorial-moodle-docker/">Tutorial: Instalar Moodle con Docker</a><li><a href="/posts/tutorial-nextcloud/">Tutorial: Monta tu propio Google Drive con NextCloud</a><li><a href="/posts/guias-estilo/">Guías de estilo</a><li><a href="/posts/callbacks-javascript/">Callbacks en JavaScript</a><li><a href="/posts/propagacion-eventos-javascript/">Propagación de eventos en JavaScript</a></ul></div><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/smr/">smr</a> <a class="post-tag" href="/tags/daw/">daw</a> <a class="post-tag" href="/tags/desarrollo-de-aplicaciones-web/">desarrollo de aplicaciones web</a> <a class="post-tag" href="/tags/teor%C3%ADa/">teoría</a> <a class="post-tag" href="/tags/ciclo-superior/">ciclo superior</a> <a class="post-tag" href="/tags/fp/">fp</a> <a class="post-tag" href="/tags/modulo/">modulo</a> <a class="post-tag" href="/tags/pr%C3%A1ctica/">práctica</a> <a class="post-tag" href="/tags/formaci%C3%B3n-profesional/">formación profesional</a> <a class="post-tag" href="/tags/seguridad-inform%C3%A1tica/">seguridad informática</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Índice</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Otros artículos</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/practica-servicio-email-con-postfix/"><div class="card-body"> <em class="timeago small" data-ts="1644170400" > 2022-02-06 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Práctica: Servicio de email con Postfix</h3><div class="text-muted small"><p> Objetivos El objetivo de esta práctica es aprender a instalar y configurar un servidor de correo electrónico POSTFIX. Duración: 10 horas. Actividades A continuación se listan las actividades qu...</p></div></div></a></div><div class="card"> <a href="/posts/seguridad-activa/"><div class="card-body"> <em class="timeago small" data-ts="1643242800" > 2022-01-27 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Seguridad activa</h3><div class="text-muted small"><p> ¿Qué es una DMZ? Leer el artículo DMZ: utiliza la zona desmilitarizada y protege tu red interna. ¿Qué es una DMZ? ¿Para qué sirve? ¿Qué dos tipos de DMZ existen? ¿Qué es un DDNS? ¿Q...</p></div></div></a></div><div class="card"> <a href="/posts/servicio-vsfptd/"><div class="card-body"> <em class="timeago small" data-ts="1642406400" > 2022-01-17 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Servicio VSFTPD</h3><div class="text-muted small"><p> Introducción Vsftpd (Very Secure FTP Daemon) o demonio FTP muy seguro es un servidor FTP liviano, potente y altamente configurable. Se encuentra en los repositorios de todas las distribuciones Lin...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/subredes/" class="btn btn-outline-primary" prompt="Más viejo"><p>¿Qué son las subredes?</p></a> <a href="/posts/practica-ssh/" class="btn btn-outline-primary" prompt="Más nuevo"><p>Práctica: Servicio SSH</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "marcosruiz/marcosruiz.github.io", "data-repo-id": "R_kgDOGm1dzA", "data-category": "General", "data-category-id": "DIC_kwDOGm1dzM4CAjhb", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "es", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/marcosruiz">Marcos Ruiz</a>. <span data-toggle="tooltip" data-placement="top" title="Excepto donde si indique lo contrario, los artículos de este blog están licenciados bajo Creative Commons Attribution 4.0 International (CC BY 4.0) Licenciado por el autor.">Algunos derechos reservados.</span></p></div><div class="footer-right"><p class="mb-0"> Desarrollado por <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> con el tema <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> .</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/smr/">smr</a> <a class="post-tag" href="/tags/daw/">daw</a> <a class="post-tag" href="/tags/desarrollo-de-aplicaciones-web/">desarrollo de aplicaciones web</a> <a class="post-tag" href="/tags/teor%C3%ADa/">teoría</a> <a class="post-tag" href="/tags/ciclo-superior/">ciclo superior</a> <a class="post-tag" href="/tags/fp/">fp</a> <a class="post-tag" href="/tags/modulo/">modulo</a> <a class="post-tag" href="/tags/pr%C3%A1ctica/">práctica</a> <a class="post-tag" href="/tags/formaci%C3%B3n-profesional/">formación profesional</a> <a class="post-tag" href="/tags/seguridad-inform%C3%A1tica/">seguridad informática</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! Resultado no encontrado.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/es.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GS5HW4NZ8V"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-GS5HW4NZ8V'); }); </script>
