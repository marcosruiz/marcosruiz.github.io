<!DOCTYPE html><html lang="es" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Capa de transporte" /><meta property="og:locale" content="es" /><meta name="description" content="Introducción" /><meta property="og:description" content="Introducción" /><link rel="canonical" href="https://marcosruiz.github.io/posts/capa-transporte/" /><meta property="og:url" content="https://marcosruiz.github.io/posts/capa-transporte/" /><meta property="og:site_name" content="Marcos Ruiz" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-11-13T09:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Capa de transporte" /><meta name="twitter:site" content="@whataweekhuh" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-06-05T16:26:31+02:00","datePublished":"2022-11-13T09:00:00+01:00","description":"Introducción","headline":"Capa de transporte","mainEntityOfPage":{"@type":"WebPage","@id":"https://marcosruiz.github.io/posts/capa-transporte/"},"url":"https://marcosruiz.github.io/posts/capa-transporte/"}</script><title>Capa de transporte | Marcos Ruiz</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Marcos Ruiz"><meta name="application-name" content="Marcos Ruiz"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://avatars.githubusercontent.com/u/7647613?v=4 " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Marcos Ruiz</a></div><div class="site-subtitle font-italic">Trabaja duro para ser vago</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>INICIO</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORÍAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>ETIQUETAS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVOS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>SOBRE MÍ</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/marcosruiz" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['profesor.mruizg','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Inicio </a> </span> <span>Capa de transporte</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Artículo</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..."> </span> <span id="search-cancel" >Cancelar</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Capa de transporte</h1><div class="post-meta text-muted"><div> <em> <a href="https://github.com/marcosruiz">Marcos Ruiz</a> </em></div><div class="d-flex"><div> <span> <em class="timeago" data-ts="1668326400" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-11-13 </em> </span> <span> Actualizado <em class="timeago" data-ts="1685975191" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-06-05 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2511 palabras"> <em>13 minutos</em> lectura</span></div></div></div><div class="post-content"><h2 class="section" id="introducción">Introducción</h2><p>Los programas de capa de aplicación generan datos que deben intercambiarse entre los hosts de origen y de destino. La capa de transporte es responsable de las comunicaciones lógicas entre las aplicaciones que se ejecutan en diferentes hosts. Esto puede incluir servicios como el establecimiento de una sesión temporal entre dos hosts y la transmisión confiable de información para una aplicación.</p><p>Como se muestra en la imagen, la capa de transporte es el enlace entre la capa de aplicación y las capas inferiores que son responsables de la transmisión de la red.</p><p>La capa de transporte no tiene conocimiento del tipo de host de destino, el tipo de medio por el que deben viajar los datos, la ruta tomada por los datos, la congestión en un enlace o el tamaño de la red.</p><p>La capa de transporte incluye dos protocolos:</p><ul><li>Protocolo de Control de Transmisión: Transmission Control Protocol (TCP)<li>Protocolo de Datagramas de Usuario: User Datagram Protocol (UDP)</ul><h2 class="section" id="responsabilidades-de-la-capa-de-transporte">Responsabilidades de la capa de transporte</h2><p>La capa de transporte tiene muchas responsabilidades:</p><ul><li>Seguir conversaciones individuales.<li>Segmentar datos en segmentos y reensamblar los segmentos.<li>Agregar información de encabezado.<li><strong>Identificar las aplicaciones que se conectan a la red.</strong><li>Multiplexar conversaciones.</ul><h2 class="section" id="qué-es-un-puerto-qué-es-un-socket">¿Qué es un puerto? ¿Qué es un socket?</h2><p>Los puertos juegan un papel básico en una conexión de red porque es el sistema por el que se identifican las aplicaciones o servicios que participan en ella. Cuando establecemos una conexión, a las aplicaciones implicadas en ella se les asigna un número entre 0 y 65535. Este número es el identificador que va a diferenciar esa aplicación en concreto del resto de las aplicaciones del equipo. Eso es lo que llamamos puerto.</p><p>Ya sabemos que en una conexión de internet enviamos la información troceada en paquetes y que en esos paquetes debemos indicar la IP origen y destino para poder localizar ambos equipos en la red. Además de las IPs de origen y destino en el paquete también deberemos incluir la información de puerto origen y destino. De esta manera además de localizar los equipos involucrados en la conexión <strong>seremos capaces de identificar las aplicaciones en concreto</strong> que participan en ella.</p><p><img data-src="/assets/img/capa-transporte/socket.png" alt="Conexión y sockets" data-proofer-ignore> <em>Conexión y sockets</em></p><p>Al conjunto IP - Puerto es lo que llamamos socket y se escribe poniendo primero IP seguido de dos puntos y a continuación el puerto. Por ejemplo un socket tendría esta forma: 145.34.210.89:4578.</p><p>Por lo tanto, la conexión se establece entre 2 sockets y queda identificada de manera única porque los sockets implicados en dicha conexión son únicos. No existe ninguna otra conexión que tenga esos dos mismos sockets. Puede haber otras conexiones con uno de los 2 sockets, pero nunca los 2.</p><iframe src="https://www.youtube.com/embed/-7DiO35rbN8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><p>Preguntas sobre el vídeo:</p><ul><li>¿Qué analogía pone de ejemplo en el vídeo sobre los puertos?<li>¿Cuál es el rango de puertos? ¿Por qué?<li>¿Qué puerto usan por defecto los servidores web?<li>¿Puedo tener dos servidores web en el mismo host físico?<li>¿Un cliente web a que puerto destino envía los mensajes por defecto?<li>¿Qué es un socket?<li>¿Qué es una conexión?<li>En la arquitectura cliente-servidor ¿qué es un cliente?<li>¿Qué analogía usa en el vídeo sobre la arquitectura cliente-servidor?<li>¿Cada navegador tiene un número de puerto diferente?<li>¿Cada pestaña de cada navegador tiene un número de puerto diferente?</ul><iframe width="560" height="315" src="https://www.youtube.com/embed/7f9NzvvPo9g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe><p>Preguntas sobre el vídeo:</p><ul><li>¿Qué tres lenguajes de programación usa en el vídeo?<li>¿Qué es una entrada? ¿Qué es una salida?<li>¿Qué principal ventaja tienen los sockets respecto a las tuberías?</ul><h2 class="section" id="tipos-de-puertos">Tipos de puertos</h2><p>En un equipo informático tenemos distintos tipos de puerto dependiendo de su número y de su función:</p><ul><li><strong>Puerto reservado</strong>: El 0.<li><strong>Puertos bien conocidos</strong>: Del 1 al 1023. Son aquellos que están reservados para los protocolos, programas y servicios establecidos universalmente y conocidos por todos. Este rango de puertos está reservado para el sistema operativo y sólo puede asignarlo el usuario con privilegios elevados como un superusuario (root). Esto es porque son servicios bastante críticos y si un usuario cualquiera pudiera abrirlos podría generar problemas de seguridad.<ul><li>Dentro de los puertos bien conocidos estarían el servidor web (80 - HTTP), servidor web seguro (443 - HTTPS), SSH (22), DNS (53), FTP (21), …</ul><li><strong>Puertos registrados</strong>: Del 1024 al 49151. Estos puertos están asignados por la IANA y van desde el 1024 hasta el 49151. Los puertos registrados son los que utilizan las aplicaciones cuando queremos conectarnos a ellas. Dentro de este grupo estarían todos los servicios y aplicaciones que podemos instalar en un equipo. Aquí estarían comprendidos los juegos, aplicaciones de mensajería, voz sobre IP (VoIP),…<ul><li>Por ejemplo en los puertos registrados tenemos: Plex (32400), SIP (5060), VNC (5900), Zerotier (9993), Battlefield (14567), …</ul><li><strong>Puertos efímeros</strong>: Del 49152 al 65535. Son unos puertos temporales de usar y tirar que el sistema operativo asigna a las aplicaciones cuando los necesitan. Una vez que la conexión ha terminado ese puerto queda libre y puede ser reutilizado nuevamente por cualquier otra aplicación.</ul><iframe src="https://www.youtube.com/embed/hmGmeGDRUAU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><p>Preguntas sobre el vídeo:</p><ul><li>¿Cuántos tipos de puertos existen según Macjosan?<li>¿Quién puede asignar los puertos bien conocidos? ¿Por qué?<li>¿Quién asigna los puertos registrados? ¿Son de obligatorio cumplimiento?<li>¿Todos los sistemas operativos usan el mismo rango de puertos efímeros?<li>¿Qué puerto conocido se usa cuando nos conectamos a un servidor web? ¿Quién tiene abierto ese puerto: el cliente o el servidor?<li>¿Qué ejemplo pone Macjosan de uso de puertos efímeros?<li>¿Cada pestaña del navegador tiene un puerto diferente? ¿Qué tipo de puerto es? ¿Por qué?<li>¿Qué ocurre si tenemos dos sevicios iguales en el mismo host?<li>¿Podemos tener dos servidores web en hosts distintos en nuestra casa que usen el mismo puerto?</ul><h2 class="section" id="protocolo-tcp">Protocolo TCP</h2><p>El protocolo garantiza que los datos serán entregados en su destino sin errores y en el mismo orden en que se transmitieron.</p><p>Proporciona un mecanismo para distinguir distintas aplicaciones dentro de una misma máquina, a través del concepto de puerto.</p><p>En este caso el PDU (Protocol Data Unit) es llamado segmento.</p><p>TCP se considera un protocolo de capa de transporte confiable y con todas las funciones, que garantiza que todos los datos lleguen al destino. TCP incluye campos que aseguran la entrega de los datos de la aplicación. Estos campos requieren un procesamiento adicional por parte de los hosts de envío y recepción.</p><p>El transporte TCP es análogo al envío de paquetes que se rastrean desde el origen hasta el destino. Si un pedido de envío se divide en varios paquetes, un cliente puede verificar en línea para ver el pedido de la entrega.</p><p>TCP proporciona confiabilidad y control de flujo utilizando estas operaciones básicas:</p><ol><li>Numerar y rastrear segmentos de datos transmitidos a un host específico desde una aplicación específica<li>Confirmar datos recibidos<li>Volver a transmitir cualquier información no reconocida después de un cierto período de tiempo<li>Datos de secuencia que pueden llegar en orden incorrecto<li>Enviar datos a una velocidad eficiente que sea aceptable para el receptor</ol><p>Para mantener el estado de una conversación y rastrear la información, TCP primero debe establecer una conexión entre el remitente y el receptor. Es por eso que TCP se conoce como un protocolo orientado a la conexión.</p><h3 class="subsection" id="características-de-tcp">Características de TCP</h3><p>Además de admitir las funciones básicas de segmentación y reensamblado de datos, TCP también proporciona los siguientes servicios:</p><ol><li><strong>Establece una sesión</strong>: TCP es un protocolo orientado a la conexión que negocia y establece una conexión permanente (o sesión) entre los dispositivos de origen y destino antes de reenviar cualquier tráfico. A través del establecimiento de la sesión, los dispositivos negocian la cantidad de tráfico que se puede reenviar en un momento dado, y los datos de comunicación entre los dos se pueden administrar de cerca.<li><strong>Garantiza una entrega confiable</strong>: por muchas razones, es posible que un segmento se corrompa o se pierda por completo, ya que se transmite a través de la red. TCP asegura que cada segmento que envía la fuente llega al destino.<li><strong>Proporciona entrega en el mismo orden</strong>: dado que las redes pueden proporcionar múltiples rutas que pueden tener diferentes velocidades de transmisión, los datos pueden llegar en el orden incorrecto. Al numerar y secuenciar los segmentos, TCP garantiza que los segmentos se vuelvan a ensamblar en el orden correcto.<li><strong>Admite control de flujo</strong>: los hosts de red tienen recursos limitados (es decir, memoria y potencia de procesamiento). Cuando TCP es consciente de que estos recursos están sobrecargados, puede solicitar que la aplicación de envío reduzca la velocidad del flujo de datos. Esto se hace mediante TCP que regula la cantidad de datos que transmite la fuente. El control de flujo puede evitar la necesidad de retransmitir los datos cuando los recursos del host receptor se ven desbordados.</ol><h3 class="subsection" id="formato-del-segmento-tcp">Formato del segmento TCP</h3><p><img data-src="/assets/img/capa-transporte/formatoTcp.png" alt="Formato del segmento TCP" data-proofer-ignore> <em>Formato del segmento TCP</em></p><details class="card mb-2"> <summary class="card-header question">¿Cual es el objetivo de cada campo?</summary><div class="card-body"><ul><li><strong>Puerto Origen</strong> (16 bits): Identifica el puerto emisor.<li><strong>Puerto de Destino</strong> (16 bits): Identifica el puerto receptor.<li><strong>Número de secuencia</strong> (32 bits): Identifica el byte del flujo de datos enviado por el emisor TCP al receptor TCP.<li><strong>Número de reconocimiento o acuse de recibo</strong> (32 bits): Contiene el valor del siguiente número de secuencia que el emisor del segmento espera recibir.<li><strong>Offset o Longitud de cabecera</strong> (4 bits): Especifica el tamaño de la cabecera en palabras de 32 bits.<li><strong>Reservado</strong> (3 bits): Para uso futuro.<li><strong>Bits de Bandera o Flag</strong> (9 bits): Nueve banderas de 1 bit para distintos propósitos.<li><strong>Ventana</strong> (16 bits): Tamaño de ventana que especifica el número máximo de bytes que pueden ser metidos en el buffer de recepción.<li><strong>Suma de control o verificación</strong> (16 bits): Checksum utilizado para la comprobación de errores tanto en la cabecera como en los datos.<li><strong>Urgente</strong> (16 bits): Cantidad de bytes desde el número de secuencia que indica el lugar donde acaban los datos urgentes.</ul></div></details><h2 class="section" id="protocolo-udp">Protocolo UDP</h2><p>UDP es un protocolo de capa de transporte más simple que TCP. No proporciona confiabilidad y control de flujo, lo que significa que requiere menos campos de encabezado. Debido a que los procesos UDP del emisor y del receptor no tienen que administrar la confiabilidad y el control de flujo, esto significa que los datagramas UDP pueden procesarse más rápido que los segmentos TCP. UDP proporciona las funciones básicas para entregar datagramas entre las aplicaciones apropiadas, con muy poca sobrecarga y verificación de datos.</p><p>UDP es un protocolo sin conexión. Debido a que UDP no proporciona confiabilidad o control de flujo, no requiere una conexión establecida. Debido a que UDP no rastrea la información enviada o recibida entre el cliente y el servidor, UDP también se conoce como un protocolo sin estado.</p><p>UDP también se conoce como un protocolo de entrega de mejor esfuerzo porque no hay reconocimiento de que los datos se reciben en el destino. Con UDP, no hay procesos de capa de transporte que informen al remitente de una entrega exitosa.</p><p>UDP es como colocar una carta regular, no registrada, en el correo. El remitente de la carta no tiene conocimiento de la disponibilidad del receptor para recibir la carta. La oficina de correos tampoco es responsable de rastrear la carta o informar al remitente si la carta no llega al destino final.</p><h3 class="subsection" id="características-de-udp">Características de UDP</h3><p>UDP es un protocolo de transporte de mejor esfuerzo. UDP es un protocolo de transporte liviano que ofrece la misma segmentación y reensamblaje de datos que TCP, pero sin la confiabilidad de TCP y el control de flujo.</p><p>UDP es un protocolo tan simple que generalmente se describe en términos de lo que no hace en comparación con TCP.</p><p>Las características UDP incluyen lo siguiente:</p><ol><li>Los datos se reconstruyen en el orden en que se reciben.<li>Los segmentos que se pierden no se vuelven a enviar.<li>No hay establecimiento de sesión.<li>El envío no está informado sobre la disponibilidad de recursos.</ol><h3 class="subsection" id="encabezado-udp">Encabezado UDP</h3><p>UDP es un protocolo sin estado, lo que significa que ni el cliente ni el servidor rastrean el estado de la sesión de comunicación. Si se requiere confiabilidad cuando se usa UDP como protocolo de transporte, la aplicación debe manejarlo.</p><p>Uno de los requisitos más importantes para entregar video y voz en vivo a través de la red es que los datos continúen fluyendo rápidamente. Las aplicaciones de video y voz en vivo pueden tolerar cierta pérdida de datos con un efecto mínimo o nulo, y se adaptan perfectamente a UDP.</p><p>Los bloques de comunicación en UDP se denominan datagramas o segmentos. Estos datagramas se envían como el mejor esfuerzo por el protocolo de la capa de transporte.</p><p>El encabezado UDP es mucho más simple que el encabezado TCP porque solo tiene cuatro campos y requiere 8 bytes (es decir, 64 bits). La figura muestra los campos en un encabezado UDP.</p><p><img data-src="/assets/img/capa-transporte/formatoUdp.png" alt="img-description" data-proofer-ignore> <em>Formato del segmento UDP</em></p><details class="card mb-2"> <summary class="card-header question">¿Cuál es el objetivo de cada campo?</summary><div class="card-body"><ul><li><strong>Puerto UDP origen</strong>. Un campo de 16 bits utilizado para identificar la aplicación de origen por número de puerto.<li><strong>Puerto UDP destino</strong>. Un campo de 16 bits utilizado para identificar la aplicación de destino por número de puerto.<li><strong>Longitud del mensaje UDP</strong>. 16 bits que indican la longitud en bytes del mensaje UDP incluyendo la cabecera. La longitud mínima es de 8 bytes.<li><strong>Checksum</strong>. Un campo de 16 bits utilizado para la verificación de errores del encabezado y los datos del datagrama.<li><strong>Datos</strong>. Información viene de la capa de aplicación.</ul></div></details><h2 class="section" id="tcp-vs-udp">TCP vs UDP</h2><p>UDP necesita menos bytes en la cabecera por lo que utiliza menos ancho de banda y necesita menos consumo procesamiento.</p><p>TCP en cambio consume más ancho de banda que UDP, pero permite la retransmisión y evita congestión.</p><p class="question">En la vida real ¿que ejemplo hay equivalente a TCP? ¿Y UDP?</p><details class="card mb-2"> <summary class="card-header">Spoiler</summary><div class="card-body"><p><img data-src="/assets/img/capa-transporte/tcpVsUdpMeme.png" alt="TCP vs UDP" data-proofer-ignore> <em>TCP vs UDP</em></p><p><img data-src="/assets/img/capa-transporte/tcpVsUdpMeme4.jpg" alt="TCP vs UDP" data-proofer-ignore> <em>TCP vs UDP</em></p><p><img data-src="/assets/img/capa-transporte/tcpVsUdpMeme5.jpg" alt="Gobierno: Para parar el covid deberemos parar todos de hacer handshaking. TCP: O.o" data-proofer-ignore> <em>Gobierno: Para parar el covid deberemos parar todos de hacer handshaking. TCP: O.o</em></p></div></details> <details class="card mb-2"> <summary class="card-header question">¿Se puede considerar TCP un protocolo de la capa de sesión?</summary><div class="card-body"><p>El TCP es un protocolo de la capa de transporte dentro del Modelo OSI porque se encarga de la segmentación y el reensamblado de los datos, así como del control de flujo y la confiabilidad en la entrega. Estas funciones se relacionan directamente con el transporte de datos entre sistemas finales.</p><p>Sin embargo, el TCP también realiza algunas funciones que tradicionalmente se atribuyen a la capa de sesión, como el establecimiento, mantenimiento y cierre de sesiones de comunicación. Durante el proceso de conexión, el TCP realiza un “handshake” para establecer una conexión confiable entre dos sistemas finales. Esta conexión persistente se mantiene a lo largo de la comunicación y se cierra adecuadamente al finalizar la sesión.</p></div></details> <details class="card mb-2"> <summary class="card-header question">UDP casi no añade funcionalidad sobre el protocolo IP, ¿no debería por ello ser considerado un protocolo de la capa de red?</summary><div class="card-body"><p>Una de las razones por las que UDP sigue siendo considerado un protocolo de transporte a pesar de no agregar funcionalidades extra sobre IP es que proporciona una interfaz estándar y un mecanismo de transporte básico para muchas aplicaciones.</p></div></details><h2 id="bibliografía"><span class="mr-2">Bibliografía</span><a href="#bibliografía" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><a href="https://es.wikipedia.org/wiki/Protocolo_de_datagramas_de_usuario">Protocolo de datagramas de usuario (Wikipedia)</a><li><a href="https://es.wikipedia.org/wiki/Unidad_de_datos_de_protocolo">Unidad de datos de protocolo (Wikipedia)</a><li><a href="https://es.wikipedia.org/wiki/Protocolo_de_control_de_transmisi%C3%B3n">Protocolo de control de transmisión (Wikipedia)</a><li><a href="https://ccnadesdecero.com/curso/ccna-capitulo-1/">CCNA Desde Cero</a><li><a href="https://ccnadesdecero.com/curso/tcp/">Protocolo TCP</a><li><a href="https://ccnadesdecero.com/curso/udp/">Protocolo UDP</a><li><a href="https://ccnadesdecero.com/curso/tcp-vs-udp/">Diferencia entre TCP y UDP</a><li><a href="https://naseros.com/2020/05/29/que-es-un-puerto-y-un-socket/">Que es un puerto y un socket. Curso de redes desde 0. Cap 5. 2020</a><li><a href="https://naseros.com/2020/06/05/tipos-de-puerto-puerto-bien-comocido-asignado-y-efimero/">Tipos de puerto. Curso de redes desde 0. Cap 6. 2020</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/sistemas-microinform%C3%A1ticos-y-redes/'>Sistemas Microinformáticos y Redes</a>, <a href='/categories/redes-locales/'>Redes Locales</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/redes-locales/" class="post-tag no-text-decoration" >redes locales</a> <a href="/tags/smr/" class="post-tag no-text-decoration" >smr</a> <a href="/tags/teor%C3%ADa/" class="post-tag no-text-decoration" >teoría</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Este artículo está licenciado bajo <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> por el autor.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Capa de transporte - Marcos Ruiz&amp;url=https://marcosruiz.github.io/posts/capa-transporte/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Capa de transporte - Marcos Ruiz&amp;u=https://marcosruiz.github.io/posts/capa-transporte/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://marcosruiz.github.io/posts/capa-transporte/&amp;text=Capa de transporte - Marcos Ruiz" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copiar link" data-title-succeed="Link copiado satisfactoriamente!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recientemente actualizado</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/tutorial-moodle-docker/">Tutorial: Instalar Moodle con Docker</a><li><a href="/posts/tutorial-nextcloud/">Tutorial: Monta tu propio Google Drive con NextCloud</a><li><a href="/posts/guias-estilo/">Guías de estilo</a><li><a href="/posts/callbacks-javascript/">Callbacks en JavaScript</a><li><a href="/posts/propagacion-eventos-javascript/">Propagación de eventos en JavaScript</a></ul></div><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/smr/">smr</a> <a class="post-tag" href="/tags/daw/">daw</a> <a class="post-tag" href="/tags/desarrollo-de-aplicaciones-web/">desarrollo de aplicaciones web</a> <a class="post-tag" href="/tags/teor%C3%ADa/">teoría</a> <a class="post-tag" href="/tags/ciclo-superior/">ciclo superior</a> <a class="post-tag" href="/tags/fp/">fp</a> <a class="post-tag" href="/tags/modulo/">modulo</a> <a class="post-tag" href="/tags/pr%C3%A1ctica/">práctica</a> <a class="post-tag" href="/tags/formaci%C3%B3n-profesional/">formación profesional</a> <a class="post-tag" href="/tags/seguridad-inform%C3%A1tica/">seguridad informática</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Índice</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Otros artículos</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/subredes/"><div class="card-body"> <em class="timeago small" data-ts="1642878000" > 2022-01-22 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>¿Qué son las subredes?</h3><div class="text-muted small"><p> ¿Qué son las subredes? En redes de computadoras, una subred es un rango de direcciones lógicas. Cuando una red se vuelve muy grande, conviene dividirla en subredes, por los siguientes motivos: ...</p></div></div></a></div><div class="card"> <a href="/posts/enrutamiento/"><div class="card-body"> <em class="timeago small" data-ts="1644323400" > 2022-02-08 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Enrutamiento o encaminamiento</h3><div class="text-muted small"><p> ¿Qué es un router? Un router (también llamado enrutador o encaminador) es un equipo que conecta entre sí dos o más redes distintas. La función principal de un router es encaminar elegir el camino...</p></div></div></a></div><div class="card"> <a href="/posts/nat/"><div class="card-body"> <em class="timeago small" data-ts="1644323400" > 2022-02-08 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>NAT estático, NAT dinámico y PAT</h3><div class="text-muted small"><p> Introducción Antes de nada es recomendable volver a ver este vídeo introductorio: Preguntas sobre el vídeo: ¿Cómo sabe el router a qué dispositivo de la LAN a la que va el paquete de respue...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/que-es-un-cpd/" class="btn btn-outline-primary" prompt="Más viejo"><p>¿Qué es un CPD?</p></a> <a href="/posts/capa-red/" class="btn btn-outline-primary" prompt="Más nuevo"><p>Capa de red</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "marcosruiz/marcosruiz.github.io", "data-repo-id": "R_kgDOGm1dzA", "data-category": "General", "data-category-id": "DIC_kwDOGm1dzM4CAjhb", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "es", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/marcosruiz">Marcos Ruiz</a>. <span data-toggle="tooltip" data-placement="top" title="Excepto donde si indique lo contrario, los artículos de este blog están licenciados bajo Creative Commons Attribution 4.0 International (CC BY 4.0) Licenciado por el autor.">Algunos derechos reservados.</span></p></div><div class="footer-right"><p class="mb-0"> Desarrollado por <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> con el tema <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> .</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/smr/">smr</a> <a class="post-tag" href="/tags/daw/">daw</a> <a class="post-tag" href="/tags/desarrollo-de-aplicaciones-web/">desarrollo de aplicaciones web</a> <a class="post-tag" href="/tags/teor%C3%ADa/">teoría</a> <a class="post-tag" href="/tags/ciclo-superior/">ciclo superior</a> <a class="post-tag" href="/tags/fp/">fp</a> <a class="post-tag" href="/tags/modulo/">modulo</a> <a class="post-tag" href="/tags/pr%C3%A1ctica/">práctica</a> <a class="post-tag" href="/tags/formaci%C3%B3n-profesional/">formación profesional</a> <a class="post-tag" href="/tags/seguridad-inform%C3%A1tica/">seguridad informática</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! Resultado no encontrado.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/es.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GS5HW4NZ8V"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-GS5HW4NZ8V'); }); </script>
