<!DOCTYPE html><html lang="es" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="¿Qué es XQuery?" /><meta property="og:locale" content="es" /><meta name="description" content="Introducción" /><meta property="og:description" content="Introducción" /><link rel="canonical" href="https://marcosruiz.github.io/posts/xquery/" /><meta property="og:url" content="https://marcosruiz.github.io/posts/xquery/" /><meta property="og:site_name" content="Marcos Ruiz" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-01-24T09:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="¿Qué es XQuery?" /><meta name="twitter:site" content="@whataweekhuh" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-05-17T09:13:40+02:00","datePublished":"2024-01-24T09:00:00+01:00","description":"Introducción","headline":"¿Qué es XQuery?","mainEntityOfPage":{"@type":"WebPage","@id":"https://marcosruiz.github.io/posts/xquery/"},"url":"https://marcosruiz.github.io/posts/xquery/"}</script><title>¿Qué es XQuery? | Marcos Ruiz</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Marcos Ruiz"><meta name="application-name" content="Marcos Ruiz"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://avatars.githubusercontent.com/u/7647613?v=4 " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Marcos Ruiz</a></div><div class="site-subtitle font-italic">Trabaja duro para ser vago</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>INICIO</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORÍAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>ETIQUETAS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVOS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>SOBRE MÍ</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/marcosruiz" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['profesor.mruizg','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Inicio </a> </span> <span>¿Qué es XQuery?</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Artículo</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..."> </span> <span id="search-cancel" >Cancelar</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>¿Qué es XQuery?</h1><div class="post-meta text-muted"><div> <em> <a href="https://github.com/marcosruiz">Marcos Ruiz</a> </em></div><div class="d-flex"><div> <span> <em class="timeago" data-ts="1706083200" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2024-01-24 </em> </span> <span> Actualizado <em class="timeago" data-ts="1715930020" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2024-05-17 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1779 palabras"> <em>9 minutos</em> lectura</span></div></div></div><div class="post-content"><h2 class="section" id="introducción">Introducción</h2><p>XQuery, también conocido como XML Query, es un lenguaje creado para buscar y extraer elementos y atributos de documentos XML. La mejor forma de entender este lenguaje es diciendo que XQuery es paraXML lo que SQL es para las bases de datos. XQuery es un lenguaje de consulta diseñado para escribir consultas sobre colecciones de datos expresadas en XML. Abarca desde archivos XML hasta bases de datos relacionales con funciones de conversión de registros a XML.</p><p>Su principal función es extraer información de un conjunto de datos organizados como un árbol n-ario de etiquetas XML. En este sentido XQuery es independiente del origen de los datos.</p><p>Una consulta XQuery podría resolver, por ejemplo, la siguiente pregunta: “Seleccionar todos los libros con un precio menor a 20 euros de la colección de libros almacenada en un documento XML llamado catalogo.xml”.</p><p>XQuery es un lenguaje funcional, lo que significa que en vez de ejecutar una lista de comandos como un lenguaje procedimental clásico, cada consulta es una expresión que es evaluada y devuelve un resultado, al igual que en SQL. Diversas expresiones pueden combinarse de una manera muy flexible con otras expresiones para crear nuevas expresiones más complejas y de mayor potencia semántica.</p><p>XQuery hace uso de XPath, un lenguaje utilizado para seleccionar partes de XML. De hecho, XQuery 1.0 y XPath 2.0 comparten el mismo modelo de datos y soportan las mismas funciones y operadores.</p><p>El lenguaje XQuery es muy amplio y complejo. Aquí sólo pretendemos hacer una introducción a su uso para hacernos una idea de su potencial junto a documentos XML.</p><p>Para todos los ejemplos siguiente vamos a tomar como referencia el siguiente documento XML:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;bib&gt;</span>
  <span class="nt">&lt;book</span> <span class="na">id=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>TCP/IP Illustrated<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;author&gt;</span>Stevens<span class="nt">&lt;/author&gt;</span>
    <span class="nt">&lt;publisher&gt;</span>Addison-Wesley<span class="nt">&lt;/publisher&gt;</span>
    <span class="nt">&lt;year&gt;</span>2002<span class="nt">&lt;/year&gt;</span>
  <span class="nt">&lt;/book&gt;</span>
  <span class="nt">&lt;book</span> <span class="na">id=</span><span class="s">"2"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Advanced Programming in the Unix Environment<span class="nt">&lt;/title&gt;</span> 
    <span class="nt">&lt;author&gt;</span>Stevens<span class="nt">&lt;/author&gt;</span> 
    <span class="nt">&lt;publisher&gt;</span>Addison-Wesley<span class="nt">&lt;/publisher&gt;</span>
    <span class="nt">&lt;year&gt;</span>2004<span class="nt">&lt;/year&gt;</span>
  <span class="nt">&lt;/book&gt;</span>
  <span class="nt">&lt;book</span> <span class="na">id=</span><span class="s">"3"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Data on the Web<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;author&gt;</span>Abiteboul<span class="nt">&lt;/author&gt;</span>
    <span class="nt">&lt;author&gt;</span>Buneman<span class="nt">&lt;/author&gt;</span>
    <span class="nt">&lt;author&gt;</span>Suciu<span class="nt">&lt;/author&gt;</span>
    <span class="nt">&lt;year&gt;</span>2006<span class="nt">&lt;/year&gt;</span>
  <span class="nt">&lt;/book&gt;</span>
<span class="nt">&lt;/bib&gt;</span>
</pre></table></code></div></div><h2 class="section" id="herramientas-para-el-manejo-de-consultas-xquery">Herramientas para el manejo de consultas XQuery</h2><p>Para probar XQuery podemos utilizar el software libre <a href="http://basex.org/">BaseX</a>.</p><h2 class="section" id="consultas-flwor">Consultas FLWOR</h2><p>Las consultas XQuery se componen de cinco cláusulas, que debido a sus iniciales se las conoce como FLWOR. Definimos cada una de ellas:</p><ul><li><code class="language-plaintext highlighter-rouge">FOR</code>: Indica qué nodos se van a seleccionar desde la base de datos XML o desde un documento XML.<li><code class="language-plaintext highlighter-rouge">LET</code>: Permite declarar variables a las que se le asignan valores.<li><code class="language-plaintext highlighter-rouge">WHERE</code>: Permite introducir condiciones que deben cumplir los nodos seleccionados por la cláusula <code class="language-plaintext highlighter-rouge">for</code>.<li><code class="language-plaintext highlighter-rouge">ORDER BY</code>: Permite ordenar los nodos antes de su visualización.<li><code class="language-plaintext highlighter-rouge">RETURN</code>: Devuelve los resultados. Es la única cláusula obligatoria.</ul><p>Aunque también se añade a éstas la siguiente cláusula:</p><ul><li><code class="language-plaintext highlighter-rouge">GROUP BY</code>: Permite agrupar por nodos similares.</ul><h3 class="subsection" id="cláusula-for-y-return">Cláusula for y return</h3><p>Con la cláusula <code class="language-plaintext highlighter-rouge">for</code> recuperaremos una serie de nodos mediante una consulta XPath y los introduciremos en una variable para poder utilizarla en la cláusula <code class="language-plaintext highlighter-rouge">return</code>. Hay que señalar que la cláusula <code class="language-plaintext highlighter-rouge">return</code> se ejecutará una vez por cada nodo que devuelva la cláusula <code class="language-plaintext highlighter-rouge">for</code>.</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w">
</span></pre></table></code></div></div><p>En este caso el nodo <code class="language-plaintext highlighter-rouge">title</code> se imprime junto con las etiquetas:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nt">&lt;title&gt;</span>TCP/IP Illustrated<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;title&gt;</span>Advanced Programming in the Unix Environment<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;title&gt;</span>Data on the Web<span class="nt">&lt;/title&gt;</span>
</pre></table></code></div></div><p>Como no hemos indicado ningún documento tras <code class="language-plaintext highlighter-rouge">in</code> la consulta se lanzará contra la base de datos que tengamos abierta en nuestro programa. El resto de ejemplos del manual se realizarán de esta manera, pero si quisiéramos lanzar la consulta contra un documento XML que no es una base de datos podemos hacerlo usando <code class="language-plaintext highlighter-rouge">doc</code>:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nf">doc</span><span class="p">(</span><span class="s">"bib.xml"</span><span class="p">)</span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w">
</span></pre></table></code></div></div><p>Si queremos imprimir nuestras propias etiquetas en la cláusula <code class="language-plaintext highlighter-rouge">return</code>, tendremos que encerrar la variable entre llaves <code class="language-plaintext highlighter-rouge">{ }</code>:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="p">{</span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="o">/</span><span class="k">text</span><span class="p">()}</span><span class="o">&lt;/</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Obteniendo como resultado:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nt">&lt;titulo&gt;</span>TCP/IP Illustrated<span class="nt">&lt;/titulo&gt;</span>
<span class="nt">&lt;titulo&gt;</span>Advanced Programming in the Unix Environment<span class="nt">&lt;/titulo&gt;</span>
<span class="nt">&lt;titulo&gt;</span>Data on the Web<span class="nt">&lt;/titulo&gt;</span>
</pre></table></code></div></div><p>Podemos utilizar <code class="language-plaintext highlighter-rouge">at</code> dentro de la cláusula <code class="language-plaintext highlighter-rouge">for</code> para obtener una variable con la numeración de los nodos que se van a recorrer:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="nt">at</span><span class="w"> </span><span class="nv">$i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="p">({</span><span class="nv">$i</span><span class="p">})</span><span class="w"> </span><span class="p">{</span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="o">/</span><span class="k">text</span><span class="p">()}</span><span class="o">&lt;/</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Lo hemos utilizado para incluirlo dentro de la etiqueta <code class="language-plaintext highlighter-rouge">titulo</code>:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nt">&lt;titulo&gt;</span>(1) TCP/IP Illustrated<span class="nt">&lt;/titulo&gt;</span>
<span class="nt">&lt;titulo&gt;</span>(2) Advanced Programming in the Unix Environment<span class="nt">&lt;/titulo&gt;</span>
<span class="nt">&lt;titulo&gt;</span>(3) Data on the Web<span class="nt">&lt;/titulo&gt;</span>
</pre></table></code></div></div><p>Si quisiéramos englobar todas las etiquetas anteriores en una superior, tendríamos que encerrar la consulta completa entre llaves <code class="language-plaintext highlighter-rouge">{ }</code> como vemos en este ejemplo:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nt">biblioteca</span><span class="o">&gt;</span><span class="w"> 
</span><span class="p">{</span><span class="w">
  </span><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="p">{</span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="o">/</span><span class="k">text</span><span class="p">()}</span><span class="o">&lt;/</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="o">&lt;/</span><span class="nt">biblioteca</span><span class="o">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Obteniendo la salida:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nt">&lt;biblioteca&gt;</span>
  <span class="nt">&lt;titulo&gt;</span>TCP/IP Illustrated<span class="nt">&lt;/titulo&gt;</span>
  <span class="nt">&lt;titulo&gt;</span>Advanced Programming in the Unix Environment<span class="nt">&lt;/titulo&gt;</span>
  <span class="nt">&lt;titulo&gt;</span>Data on the Web<span class="nt">&lt;/titulo&gt;</span>
<span class="nt">&lt;/biblioteca&gt;</span>
</pre></table></code></div></div><p>También podemos utilizar la estructura condicional <code class="language-plaintext highlighter-rouge">if</code> dentro de la cláusula <code class="language-plaintext highlighter-rouge">return</code> para modificar el resultado en función de alguna condición:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="k">return</span><span class="w">
  </span><span class="o">&lt;</span><span class="nt">book</span><span class="o">&gt;</span><span class="w">
    </span><span class="p">{</span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="p">}</span><span class="w">
    </span><span class="p">{</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$book</span><span class="o">/</span><span class="nt">year</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">2003</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="p">(</span><span class="w">
      </span><span class="o">&lt;</span><span class="nt">new</span><span class="w"> </span><span class="o">/&gt;</span><span class="w">
    </span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">(</span><span class="w">
      </span><span class="o">&lt;</span><span class="nt">out-dated</span><span class="w"> </span><span class="o">/&gt;</span><span class="w">
    </span><span class="p">)}</span><span class="w">
  </span><span class="o">&lt;/</span><span class="nt">book</span><span class="o">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Obteniendo la salida:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="nt">&lt;book&gt;</span>
  <span class="nt">&lt;title&gt;</span>TCP/IP Illustrated<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;out-dated/&gt;&lt;/book&gt;</span>
<span class="nt">&lt;book&gt;</span>
  <span class="nt">&lt;title&gt;</span>Advanced Programming in the Unix Environment<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;new/&gt;</span>
<span class="nt">&lt;/book&gt;</span>
<span class="nt">&lt;book&gt;</span>
  <span class="nt">&lt;title&gt;</span>Data on the Web<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;new/&gt;</span>
<span class="nt">&lt;/book&gt;</span>
</pre></table></code></div></div><h3 class="subsection" id="cláusula-let">Cláusula let</h3><p>La cláusula <code class="language-plaintext highlighter-rouge">let</code> nos va a permitir crear variables con cierto contenido. La diferencia con <code class="language-plaintext highlighter-rouge">for</code> es que ésta sólo se ejecutaría una sola vez con la cláusula <code class="language-plaintext highlighter-rouge">return</code>. La cláusula <code class="language-plaintext highlighter-rouge">let</code> asigna las variables mediante los caracteres <code class="language-plaintext highlighter-rouge">:=</code>. Si el ejemplo anterior lo realizáramos con <code class="language-plaintext highlighter-rouge">let</code>:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">let</span><span class="w"> </span><span class="nv">$books</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="p">{</span><span class="nv">$books</span><span class="o">/</span><span class="nt">title</span><span class="p">}</span><span class="o">&lt;/</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Podemos observar como la etiqueta <code class="language-plaintext highlighter-rouge">titulo</code> sólo aparece una vez, es decir, no se repite para cada nodo como en el caso de la cláusula <code class="language-plaintext highlighter-rouge">for</code>.</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nt">&lt;titulo&gt;</span>
  <span class="nt">&lt;title&gt;</span>TCP/IP Illustrated<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;title&gt;</span>Advanced Programming in the Unix Environment<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;title&gt;</span>Data on the Web<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/titulo&gt;</span>
</pre></table></code></div></div><p>La clausula <code class="language-plaintext highlighter-rouge">let</code> nos va a permitir utilizar funciones de agrupación, como calcular la media, la suma, contar, etc. Estas son las mismas funciones que las que se utilizan en el lenguaje XPath y que podéis repasar <a href="https://www.ticarte.com/contenido/que-es-el-lenguaje-xpath#funciones">aquí</a>. Podemos por ejemplo buscar el año más alto que exista mediante la función <code class="language-plaintext highlighter-rouge">max</code> para ver el último libro que se ha escrito:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">let</span><span class="w"> </span><span class="nv">$books</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">last_year</span><span class="o">&gt;</span><span class="p">{</span><span class="nf">max</span><span class="p">(</span><span class="nv">$books</span><span class="o">/</span><span class="nt">year</span><span class="p">)}</span><span class="o">&lt;/</span><span class="nt">last_year</span><span class="o">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Y la salida sería:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nt">&lt;last_year&gt;</span>2006<span class="nt">&lt;/last_year&gt;</span>
</pre></table></code></div></div><p>También podemos crear varias variables seguidas con coma, por ejemplo para buscar el libro más antiguo y más nuevo:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">let</span><span class="w"> </span><span class="nv">$older</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="o">/</span><span class="nt">year</span><span class="p">)</span><span class="o">,</span><span class="w"> </span><span class="nv">$younger</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="o">/</span><span class="nt">year</span><span class="p">)</span><span class="w">
</span><span class="k">return</span><span class="w">
</span><span class="err">&amp;</span><span class="nt">nbsp</span><span class="err">;</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">books</span><span class="o">&gt;</span><span class="w">
</span><span class="err">&amp;</span><span class="nt">nbsp</span><span class="err">;&amp;</span><span class="nt">nbsp</span><span class="err">;&amp;</span><span class="nt">nbsp</span><span class="err">;</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">older</span><span class="o">&gt;</span><span class="p">{</span><span class="nv">$older</span><span class="p">}</span><span class="o">&lt;/</span><span class="nt">older</span><span class="o">&gt;</span><span class="w">
</span><span class="err">&amp;</span><span class="nt">nbsp</span><span class="err">;&amp;</span><span class="nt">nbsp</span><span class="err">;&amp;</span><span class="nt">nbsp</span><span class="err">;</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">younger</span><span class="o">&gt;</span><span class="p">{</span><span class="nv">$younger</span><span class="p">}</span><span class="o">&lt;/</span><span class="nt">younger</span><span class="o">&gt;</span><span class="w">
</span><span class="err">&amp;</span><span class="nt">nbsp</span><span class="err">;</span><span class="w"> </span><span class="o">&lt;/</span><span class="nt">books</span><span class="o">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Y la salida sería:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nt">&lt;books&gt;</span>
<span class="ni">&amp;nbsp;</span> <span class="nt">&lt;older&gt;</span>2002<span class="nt">&lt;/older&gt;</span>
<span class="ni">&amp;nbsp;</span> <span class="nt">&lt;younger&gt;</span>2006<span class="nt">&lt;/younger&gt;</span>
<span class="nt">&lt;/books&gt;</span>
</pre></table></code></div></div><p>La cláusula <code class="language-plaintext highlighter-rouge">let</code> también nos permite asignar el valor de una variable a partir de otro consulta:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">let</span><span class="w"> </span><span class="nv">$titles</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="err">&amp;</span><span class="nt">nbsp</span><span class="err">;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="err">&amp;</span><span class="nt">nbsp</span><span class="err">;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="p">)</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nv">$titles</span><span class="w">
</span></pre></table></code></div></div><p>Y la salida sería:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nt">&lt;title&gt;</span>TCP/IP Illustrated<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;title&gt;</span>Advanced Programming in the Unix Environment<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;title&gt;</span>Data on the Web<span class="nt">&lt;/title&gt;</span>
</pre></table></code></div></div><h3 class="subsection" id="cláusula-for-y-let">Cláusula for y let</h3><p>Podemos combinar las cláusulas <code class="language-plaintext highlighter-rouge">for</code> y <code class="language-plaintext highlighter-rouge">let</code>. De esta manera conseguimos que la clasula <code class="language-plaintext highlighter-rouge">let</code> se ejecute una vez por cada nodo, al igual que hace la clausula <code class="language-plaintext highlighter-rouge">return</code>. Por ejemplo, si queremos contar el número de autores que tiene cada libro podemos utilizar la siguiente consulta:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="k">let</span><span class="w"> </span><span class="nv">$autores</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">count</span><span class="p">(</span><span class="nv">$book</span><span class="o">/</span><span class="nt">author</span><span class="p">)</span><span class="w">
</span><span class="k">return</span><span class="w"> 
  </span><span class="o">&lt;</span><span class="nt">libro</span><span class="o">&gt;</span><span class="w">
    </span><span class="o">&lt;</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="p">{</span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="o">/</span><span class="k">text</span><span class="p">()}</span><span class="o">&lt;/</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="w">
    </span><span class="o">&lt;</span><span class="nt">autores</span><span class="o">&gt;</span><span class="p">{</span><span class="nv">$autores</span><span class="p">}</span><span class="o">&lt;/</span><span class="nt">autores</span><span class="o">&gt;</span><span class="w">
  </span><span class="o">&lt;/</span><span class="nt">libro</span><span class="o">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Lo que conseguimos es que para cada nodo que pasa por la cláusula <code class="language-plaintext highlighter-rouge">for</code> utilicemos <code class="language-plaintext highlighter-rouge">let</code> para incluir en la variable <code class="language-plaintext highlighter-rouge">$autores</code> la cuenta de nodos <code class="language-plaintext highlighter-rouge">author</code> de dicho libro que tenemos en la variable <code class="language-plaintext highlighter-rouge">$book</code>, consiguiendo el siguiente resultado:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="nt">&lt;libro&gt;</span>
  <span class="nt">&lt;titulo&gt;</span>TCP/IP Illustrated<span class="nt">&lt;/titulo&gt;</span>
  <span class="nt">&lt;autores&gt;</span>1<span class="nt">&lt;/autores&gt;</span>
<span class="nt">&lt;/libro&gt;</span>
<span class="nt">&lt;libro&gt;</span>
  <span class="nt">&lt;titulo&gt;</span>Advanced Programming in the Unix Environment<span class="nt">&lt;/titulo&gt;</span>
  <span class="nt">&lt;autores&gt;</span>1<span class="nt">&lt;/autores&gt;</span>
<span class="nt">&lt;/libro&gt;</span>
<span class="nt">&lt;libro&gt;</span>
  <span class="nt">&lt;titulo&gt;</span>Data on the Web<span class="nt">&lt;/titulo&gt;</span>
  <span class="nt">&lt;autores&gt;</span>3<span class="nt">&lt;/autores&gt;</span>
<span class="nt">&lt;/libro&gt;</span>
</pre></table></code></div></div><p>Aunque este mismo caso también lo podríamos realizar sin utilizar la clásula <code class="language-plaintext highlighter-rouge">let</code>:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="k">return</span><span class="w"> 
  </span><span class="o">&lt;</span><span class="nt">libro</span><span class="o">&gt;</span><span class="w">
    </span><span class="o">&lt;</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="p">{</span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="o">/</span><span class="k">text</span><span class="p">()}</span><span class="o">&lt;/</span><span class="nt">titulo</span><span class="o">&gt;</span><span class="w">
    </span><span class="o">&lt;</span><span class="nt">autores</span><span class="o">&gt;</span><span class="p">{</span><span class="nf">count</span><span class="p">(</span><span class="nv">$book</span><span class="o">/</span><span class="nt">author</span><span class="p">)}</span><span class="o">&lt;/</span><span class="nt">autores</span><span class="o">&gt;</span><span class="w">
  </span><span class="o">&lt;/</span><span class="nt">libro</span><span class="o">&gt;</span><span class="w">
</span></pre></table></code></div></div><h3 class="subsection" id="cláusula-where">Cláusula where</h3><p>Con la cláusula <code class="language-plaintext highlighter-rouge">where</code> podemos filtrar los nodos que se seleccionan en la cláusula <code class="language-plaintext highlighter-rouge">for</code>, para ello también podemos utilizar los mismos operadores y funciones que en el leguaje XPath y que podéis repasar <a href="https://www.ticarte.com/contenido/que-es-el-lenguaje-xpath#funciones">aquí</a>. MUY IMPORTANTE, la cláusula <code class="language-plaintext highlighter-rouge">where</code> NO filtraría los nodos si los estamos obteniendo con <code class="language-plaintext highlighter-rouge">let</code>. Por ejemplo podemos buscar los títulos de un determinado autor:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="nt">where</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Stevens"</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w">
</span></pre></table></code></div></div><p>Y el resultado sería:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nt">&lt;title&gt;</span>TCP/IP Illustrated<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;title&gt;</span>Advanced Programming in the Unix Environment<span class="nt">&lt;/title&gt;</span>
</pre></table></code></div></div><p>La misma consulta anterior se podría realizar de igual manera filtrando los nodos en la consulta XPath sin tener que utilizar la cláusula <code class="language-plaintext highlighter-rouge">where</code>:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="p">[</span><span class="nt">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Stevens"</span><span class="p">]</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w">
</span></pre></table></code></div></div><p>Un ejemplo más con la cláusula <code class="language-plaintext highlighter-rouge">where</code> utilizando una función:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="nt">where</span><span class="w"> </span><span class="nf">starts-with</span><span class="p">(</span><span class="nv">$book</span><span class="o">/</span><span class="nt">author</span><span class="o">,</span><span class="w"> </span><span class="s">"S"</span><span class="p">)</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w">
</span></pre></table></code></div></div><p>Otro ejemplo más con la cláusula <code class="language-plaintext highlighter-rouge">where</code> en la que se unen varias condiciones:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="nt">where</span><span class="w"> </span><span class="nf">starts-with</span><span class="p">(</span><span class="nv">$book</span><span class="o">/</span><span class="nt">author</span><span class="o">,</span><span class="w"> </span><span class="s">"S"</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nf">starts-with</span><span class="p">(</span><span class="nv">$book</span><span class="o">/</span><span class="nt">author</span><span class="o">,</span><span class="w"> </span><span class="s">"T"</span><span class="p">)</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w">
</span></pre></table></code></div></div><h3 class="subsection" id="cláusula-order-by">Cláusula order by</h3><p>Con la cláusula <code class="language-plaintext highlighter-rouge">order by</code> podemos ordenar los nodos antes de que empiece a ejecutarse la cláusula <code class="language-plaintext highlighter-rouge">return</code>, ya que como sabemos, la salida será la misma que el orden que tengan los nodos en el documento o base de datos XML.</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="nt">order</span><span class="w"> </span><span class="nt">by</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w">
</span></pre></table></code></div></div><p>Obteniendo la salida:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nt">&lt;title&gt;</span>Advanced Programming in the Unix Environment<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;title&gt;</span>Data on the Web<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;title&gt;</span>TCP/IP Illustrated<span class="nt">&lt;/title&gt;</span>
</pre></table></code></div></div><p>Podemos ordenar por diferentes campos separándolos por coma.</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="nt">order</span><span class="w"> </span><span class="nt">by</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="o">,</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">year</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w">
</span></pre></table></code></div></div><p>Podemos ordenar de manera descendente (<em>descending</em>), ya que por defecto se ordena de manera ascendente (<em>ascending</em>).</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="nt">order</span><span class="w"> </span><span class="nt">by</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w"> </span><span class="nt">descending</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">title</span><span class="w">
</span></pre></table></code></div></div><h3 class="subsection" id="cláusula-group-by">Cláusula group by</h3><p>Con la cláusula <code class="language-plaintext highlighter-rouge">group by</code> podemos agrupar los nodos en función de un valor de nodo o de atributo:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="nt">group</span><span class="w"> </span><span class="nt">by</span><span class="w"> </span><span class="nv">$publisher</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">publisher</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">group</span><span class="w"> </span><span class="nt">dept</span><span class="o">=</span><span class="s">"{$publisher}"</span><span class="w"> </span><span class="nt">count</span><span class="o">=</span><span class="s">"{count($book)}"</span><span class="o">/&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Obteniendo la salida:</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nt">&lt;group</span> <span class="na">dept=</span><span class="s">"Addison-Wesley"</span> <span class="na">count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;group</span> <span class="na">dept=</span><span class="s">""</span> <span class="na">count=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
</pre></table></code></div></div><h3 class="subsection" id="otros-ejemplos-de-funciones-y-operadores">Otros ejemplos de funciones y operadores</h3><p>La función <code class="language-plaintext highlighter-rouge">distinct-values</code> nos permite dentro de la cláusula <code class="language-plaintext highlighter-rouge">for</code> o <code class="language-plaintext highlighter-rouge">let</code> seleccionar sólo los nodos que tengan valores diferentes. Pero hay que tener en cuenta que los devuelve sin sus etiquetas, como si usáramos <code class="language-plaintext highlighter-rouge">/text()</code>:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$autor</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nf">distinct-values</span><span class="p">(</span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="o">/</span><span class="nt">author</span><span class="p">)</span><span class="w">
</span><span class="nt">where</span><span class="w"> </span><span class="nv">$autor</span><span class="w">
</span></pre></table></code></div></div><p>El operador <code class="language-plaintext highlighter-rouge">except</code> nos permite eliminar nodos de la salida de la consulta, pero para ello es obligatorio utilizar <code class="language-plaintext highlighter-rouge">/\*</code> en el nodo donde vayamos a utilizarlo como vemos en el ejemplo. En este caso también se devuelve el libro sin etiquetas, de ahí que le hayamos incluido nosotros nuestras propias etiquetas en el <code class="language-plaintext highlighter-rouge">return</code>:</p><div class="language-xpath highlighter-rouge"><div class="code-header"> <span data-label-text="Xpath"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="w"> </span><span class="nv">$book</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">/</span><span class="nt">bib</span><span class="o">/</span><span class="nt">book</span><span class="w">
</span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">libro</span><span class="o">&gt;</span><span class="p">{</span><span class="nv">$book</span><span class="o">/*</span><span class="w"> </span><span class="ow">except</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">year</span><span class="w"> </span><span class="ow">except</span><span class="w"> </span><span class="nv">$book</span><span class="o">/</span><span class="nt">author</span><span class="p">}</span><span class="o">&lt;/</span><span class="nt">libro</span><span class="o">&gt;</span><span class="w">
</span></pre></table></code></div></div><h2 id="bibliografía"><span class="mr-2">Bibliografía</span><a href="#bibliografía" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><a href="https://www.w3schools.com/xml/xquery_intro.asp">https://www.w3schools.com/xml/xquery_intro.asp</a><li><a href="https://www.w3schools.com/xml/xml_xquery.asp">https://www.w3schools.com/xml/xml_xquery.asp</a><li><a href="https://www.ibm.com/docs/es/db2/11.1?topic=data-introduction-xquery">https://www.ibm.com/docs/es/db2/11.1?topic=data-introduction-xquery</a><li><a href="https://es.wikipedia.org/wiki/XQuery">https://es.wikipedia.org/wiki/XQuery</a><li><a href="https://www.discoduroderoer.es/tutorial-sobre-como-usar-base-x/">https://www.discoduroderoer.es/tutorial-sobre-como-usar-base-x/</a><li><a href="https://www.discoduroderoer.es/formas-de-mostrar-nodos-en-xquery/">https://www.discoduroderoer.es/formas-de-mostrar-nodos-en-xquery/</a><li><a href="https://www.discoduroderoer.es/ordenacion-en-xquery/">https://www.discoduroderoer.es/ordenacion-en-xquery/</a><li><a href="https://www.ticarte.com/contenido/que-es-el-lenguaje-xquery">https://www.ticarte.com/contenido/que-es-el-lenguaje-xquery</a><li><a href="https://sites.google.com/a/elorrieta-errekamari.com/marcas/u7-almacenamiento-de-informacion-en-formato-xml/3-xquery">https://sites.google.com/a/elorrieta-errekamari.com/marcas/u7-almacenamiento-de-informacion-en-formato-xml/3-xquery</a><li><a href="https://oscarmaestre.github.io/lenguajes_marcas/tema6.html">https://oscarmaestre.github.io/lenguajes_marcas/tema6.html</a><li><a href="http://www.lsi.us.es/docs/informes/LSI-2005-02.pdf">http://www.lsi.us.es/docs/informes/LSI-2005-02.pdf</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/desarrollo-de-aplicaciones-multiplataforma/'>Desarrollo de Aplicaciones Multiplataforma</a>, <a href='/categories/lenguajes-de-marcas-y-sistemas-de-gesti%C3%B3n-de-informaci%C3%B3n/'>Lenguajes de Marcas y Sistemas de Gestión de Información</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/desarrollo-de-aplicaciones-multiplataforma/" class="post-tag no-text-decoration" >desarrollo de aplicaciones multiplataforma</a> <a href="/tags/lenguajes-de-marcas-y-sistemas-de-gesti%C3%B3n-de-informaci%C3%B3n/" class="post-tag no-text-decoration" >lenguajes de marcas y sistemas de gestión de información</a> <a href="/tags/administraci%C3%B3n-de-sistemas-inform%C3%A1ticos-de-red/" class="post-tag no-text-decoration" >administración de sistemas informáticos de red</a> <a href="/tags/desarrollo-de-aplicaciones-web/" class="post-tag no-text-decoration" >desarrollo de aplicaciones web</a> <a href="/tags/dam/" class="post-tag no-text-decoration" >dam</a> <a href="/tags/daw/" class="post-tag no-text-decoration" >daw</a> <a href="/tags/asir/" class="post-tag no-text-decoration" >asir</a> <a href="/tags/lmsgi/" class="post-tag no-text-decoration" >lmsgi</a> <a href="/tags/xml/" class="post-tag no-text-decoration" >xml</a> <a href="/tags/teor%C3%ADa/" class="post-tag no-text-decoration" >teoría</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Este artículo está licenciado bajo <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> por el autor.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=¿Qué es XQuery? - Marcos Ruiz&amp;url=https://marcosruiz.github.io/posts/xquery/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=¿Qué es XQuery? - Marcos Ruiz&amp;u=https://marcosruiz.github.io/posts/xquery/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://marcosruiz.github.io/posts/xquery/&amp;text=¿Qué es XQuery? - Marcos Ruiz" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copiar link" data-title-succeed="Link copiado satisfactoriamente!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recientemente actualizado</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/tutorial-moodle-docker/">Tutorial: Instalar Moodle con Docker</a><li><a href="/posts/tutorial-nextcloud/">Tutorial: Monta tu propio Google Drive con NextCloud</a><li><a href="/posts/guias-estilo/">Guías de estilo</a><li><a href="/posts/callbacks-javascript/">Callbacks en JavaScript</a><li><a href="/posts/propagacion-eventos-javascript/">Propagación de eventos en JavaScript</a></ul></div><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/smr/">smr</a> <a class="post-tag" href="/tags/daw/">daw</a> <a class="post-tag" href="/tags/desarrollo-de-aplicaciones-web/">desarrollo de aplicaciones web</a> <a class="post-tag" href="/tags/teor%C3%ADa/">teoría</a> <a class="post-tag" href="/tags/ciclo-superior/">ciclo superior</a> <a class="post-tag" href="/tags/fp/">fp</a> <a class="post-tag" href="/tags/modulo/">modulo</a> <a class="post-tag" href="/tags/pr%C3%A1ctica/">práctica</a> <a class="post-tag" href="/tags/formaci%C3%B3n-profesional/">formación profesional</a> <a class="post-tag" href="/tags/seguridad-inform%C3%A1tica/">seguridad informática</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Índice</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Otros artículos</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/practica-html-freecodecamp/"><div class="card-body"> <em class="timeago small" data-ts="1665043200" > 2022-10-06 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Tarea: HTML en freeCodeCamp</h3><div class="text-muted small"><p> Objetivo y duración El objetivo de esta práctica es aprender a escribir HTML de forma correcta para el desempeño correcto del dichos documentos. Duración: 4 h Entrega y presentación La entrega ...</p></div></div></a></div><div class="card"> <a href="/posts/lenguajes-marcas-sistemas-gestion-informacion-23-24/"><div class="card-body"> <em class="timeago small" data-ts="1694073600" > 2023-09-07 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Lenguajes de Marcas y Sistemas de Gestión de Información 23 24</h3><div class="text-muted small"><p> Evaluación 1 UD01 - Reconocimiento de las características de lenguajes de marcas Representación de la información Introducción a los lenguajes de marcas XML UD0...</p></div></div></a></div><div class="card"> <a href="/posts/markdown/"><div class="card-body"> <em class="timeago small" data-ts="1708675200" > 2024-02-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>¿Qué es Markdown?</h3><div class="text-muted small"><p> Introducción Markdown es un lenguaje de marcado ligero que se utiliza comúnmente para formatear texto de manera sencilla y legible en plataformas web, como foros, blogs y sitios web estáticos. Fue...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/xpath/" class="btn btn-outline-primary" prompt="Más viejo"><p>¿Qué es XPath?</p></a> <a href="/posts/tarea-dtd/" class="btn btn-outline-primary" prompt="Más nuevo"><p>Tarea: DTD</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "marcosruiz/marcosruiz.github.io", "data-repo-id": "R_kgDOGm1dzA", "data-category": "General", "data-category-id": "DIC_kwDOGm1dzM4CAjhb", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "es", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/marcosruiz">Marcos Ruiz</a>. <span data-toggle="tooltip" data-placement="top" title="Excepto donde si indique lo contrario, los artículos de este blog están licenciados bajo Creative Commons Attribution 4.0 International (CC BY 4.0) Licenciado por el autor.">Algunos derechos reservados.</span></p></div><div class="footer-right"><p class="mb-0"> Desarrollado por <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> con el tema <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> .</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/smr/">smr</a> <a class="post-tag" href="/tags/daw/">daw</a> <a class="post-tag" href="/tags/desarrollo-de-aplicaciones-web/">desarrollo de aplicaciones web</a> <a class="post-tag" href="/tags/teor%C3%ADa/">teoría</a> <a class="post-tag" href="/tags/ciclo-superior/">ciclo superior</a> <a class="post-tag" href="/tags/fp/">fp</a> <a class="post-tag" href="/tags/modulo/">modulo</a> <a class="post-tag" href="/tags/pr%C3%A1ctica/">práctica</a> <a class="post-tag" href="/tags/formaci%C3%B3n-profesional/">formación profesional</a> <a class="post-tag" href="/tags/seguridad-inform%C3%A1tica/">seguridad informática</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! Resultado no encontrado.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/es.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GS5HW4NZ8V"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-GS5HW4NZ8V'); }); </script>
